[2025-12-02 15:44:30.125 +02:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-12-02 15:44:30.838 +02:00  INF]  Now listening on: https://localhost:7252
[2025-12-02 15:44:30.839 +02:00  INF]  Now listening on: http://localhost:5233
[2025-12-02 15:44:31.030 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-12-02 15:44:31.031 +02:00  INF]  Hosting environment: Development
[2025-12-02 15:44:31.031 +02:00  INF]  Content root path: D:\ExcursionSystem\API\ExcursionApp\ExcursionApp
[2025-12-02 15:44:31.959 +02:00  INF]  Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
[2025-12-02 15:44:32.376 +02:00  INF]  Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 428.0977ms
[2025-12-02 15:44:32.557 +02:00  INF]  Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
[2025-12-02 15:44:32.628 +02:00  INF]  Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
[2025-12-02 15:44:32.636 +02:00  INF]  Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 79.5585ms
[2025-12-02 15:44:32.721 +02:00  INF]  Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.6525ms
[2025-12-02 15:44:33.309 +02:00  INF]  Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
[2025-12-02 15:44:33.365 +02:00  INF]  Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.1684ms
[2025-12-02 15:45:06.482 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 15:45:06.485 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 15:45:06.547 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:45:06.548 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:45:06.551 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 70.1917ms
[2025-12-02 15:45:06.551 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 69.6344ms
[2025-12-02 15:45:06.556 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 15:45:06.556 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 15:45:06.562 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:45:06.562 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:45:06.649 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 15:45:06.650 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 15:45:06.680 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:45:06.680 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:45:08.523 +02:00  INF]  Executed DbCommand (74ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 15:45:08.523 +02:00  INF]  Executed DbCommand (70ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 15:45:08.553 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 15:45:08.569 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.594 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 1909.7766ms
[2025-12-02 15:45:08.594 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 15:45:08.602 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 2046.5787ms
[2025-12-02 15:45:08.658 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.703 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.718 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.732 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.744 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.760 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.767 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.772 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.786 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.792 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.793 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.797 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.801 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.803 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.804 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.804 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.805 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.806 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.807 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.851 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.853 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.855 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.857 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.858 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.859 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.860 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.861 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.861 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.862 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.863 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.864 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.867 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.868 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.870 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.872 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.873 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.875 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.877 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.878 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.879 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.883 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.887 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.889 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.891 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.893 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.894 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.895 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.896 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.897 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.898 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.900 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.902 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.904 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.905 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.906 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.906 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.907 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.908 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.908 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.909 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.910 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.912 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.913 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.915 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.917 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.918 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.918 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.919 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.920 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.921 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.921 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.924 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.926 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.927 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.928 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.928 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.929 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.930 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.930 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.932 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.933 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.935 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.936 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.937 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.938 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.939 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.940 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.942 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.943 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.943 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.944 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.946 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.947 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.948 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.950 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.952 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.954 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.955 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.956 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.957 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.958 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.960 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.961 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.963 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.964 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.965 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.967 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.968 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.969 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.970 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.971 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.974 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.976 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.977 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.978 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.979 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.980 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.981 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.983 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.984 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:08.986 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.987 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:08.990 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:08.992 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.993 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.994 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.995 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:08.996 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:08.997 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:08.998 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:09.000 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.002 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:09.004 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:09.006 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.008 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.009 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.010 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.011 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.012 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:09.013 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:09.014 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.017 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:09.019 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:09.021 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.022 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.024 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.025 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.026 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.026 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:09.027 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:09.028 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.029 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:09.031 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:09.033 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.034 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.035 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.035 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.036 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.037 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:09.037 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:09.039 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.041 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:09.043 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:09.044 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.045 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.045 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.046 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.047 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.048 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:09.049 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 15:45:09.050 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.052 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:45:09.053 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:45:09.054 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.056 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.058 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.059 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:45:09.059 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:45:09.060 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:45:09.064 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 15:45:09.142 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 2461.5089ms
[2025-12-02 15:45:09.143 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 15:45:09.144 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86257 application/json; charset=utf-8 2587.7369ms
[2025-12-02 15:51:05.890 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 15:51:05.890 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 15:51:05.894 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:51:05.894 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:51:05.894 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 4.2162ms
[2025-12-02 15:51:05.894 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 5.2023ms
[2025-12-02 15:51:05.894 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 15:51:05.896 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:51:05.896 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 15:51:05.896 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 1.6857ms
[2025-12-02 15:51:05.896 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:51:05.896 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.5847ms
[2025-12-02 15:51:05.900 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 15:51:05.905 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 15:51:05.906 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:51:05.910 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:51:05.917 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 15:51:05.917 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 15:51:05.921 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:51:05.928 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:51:05.930 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 15:51:05.930 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:51:05.930 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:51:05.930 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 15:51:05.934 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:51:05.936 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:51:05.937 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:51:05.937 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:51:06.126 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 15:51:06.180 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:51:06.198 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:51:06.198 +02:00  INF]  Executed DbCommand (15ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 15:51:06.204 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:51:06.212 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:51:06.217 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:51:06.218 +02:00  WRN]  The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2025-12-02 15:51:06.219 +02:00  WRN]  The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
[2025-12-02 15:51:06.222 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:51:06.223 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:51:06.224 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:51:06.227 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:51:06.229 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 15:51:06.230 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:51:06.231 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 15:51:06.232 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:51:06.232 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 15:51:06.233 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 15:51:06.234 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 297.9125ms
[2025-12-02 15:51:06.234 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:51:06.235 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 318.7791ms
[2025-12-02 15:51:06.239 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 302.1938ms
[2025-12-02 15:51:06.240 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:51:06.240 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 335.3313ms
[2025-12-02 15:51:06.262 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 15:51:06.263 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 15:51:06.264 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 326.9968ms
[2025-12-02 15:51:06.265 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 15:51:06.265 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 364.9948ms
[2025-12-02 15:51:06.282 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 15:51:06.288 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 353.8976ms
[2025-12-02 15:51:06.288 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 15:51:06.288 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 372.1586ms
[2025-12-02 15:52:06.575 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 15:52:06.580 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:52:06.582 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 13.4833ms
[2025-12-02 15:52:06.583 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 15:52:06.584 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:52:06.584 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:52:06.584 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:52:06.588 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:52:06.596 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:52:06.598 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 15:52:06.598 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 15:52:06.599 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 14.5217ms
[2025-12-02 15:52:06.599 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:52:06.599 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 15.5521ms
[2025-12-02 15:54:07.102 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 15:54:07.102 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.103 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.2392ms
[2025-12-02 15:54:07.106 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 15:54:07.109 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 15:54:07.109 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.109 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 3.148ms
[2025-12-02 15:54:07.109 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.109 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.3037ms
[2025-12-02 15:54:07.109 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 15:54:07.109 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 15:54:07.109 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.109 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.109 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.2458ms
[2025-12-02 15:54:07.109 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.1796ms
[2025-12-02 15:54:07.109 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 15:54:07.111 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.111 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 15:54:07.119 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 15:54:07.120 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.120 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:54:07.120 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:54:07.120 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 15:54:07.127 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:54:07.127 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 15:54:07.128 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.128 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 15:54:07.131 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:54:07.134 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:54:07.134 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 15:54:07.134 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.134 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 15:54:07.134 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:54:07.135 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 15:54:07.140 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 15:54:07.141 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 15:54:07.142 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:54:07.142 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:54:07.142 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:54:07.143 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 15:54:07.144 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 15:54:07.144 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 9.7073ms
[2025-12-02 15:54:07.144 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 15:54:07.144 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 10.3067ms
[2025-12-02 15:54:07.145 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 15:54:07.146 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 25.2654ms
[2025-12-02 15:54:07.149 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:54:07.149 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 30.276ms
[2025-12-02 15:54:07.160 +02:00  INF]  Executed DbCommand (24ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 15:54:07.160 +02:00  INF]  Executed DbCommand (16ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 15:54:07.161 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 15:54:07.161 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 30.6306ms
[2025-12-02 15:54:07.162 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 15:54:07.162 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 36.0064ms
[2025-12-02 15:54:07.163 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 15:54:07.163 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:54:07.165 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:54:07.167 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:54:07.169 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:54:07.173 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:54:07.174 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:54:07.175 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:54:07.178 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:54:07.179 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 15:54:07.179 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:54:07.179 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 15:54:07.181 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 38.6375ms
[2025-12-02 15:54:07.181 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:54:07.181 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 39.5594ms
[2025-12-02 15:54:07.183 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 62.4549ms
[2025-12-02 15:54:07.183 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 15:54:07.183 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 73.9079ms
[2025-12-02 15:57:48.635 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 15:57:48.635 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:48.635 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.6143ms
[2025-12-02 15:57:48.646 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 15:57:48.650 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:48.650 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:57:48.651 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:57:48.663 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 15:57:48.663 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:48.663 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.3362ms
[2025-12-02 15:57:48.663 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 15:57:48.663 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:48.663 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.1899ms
[2025-12-02 15:57:48.670 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 15:57:48.670 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:48.670 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 15:57:48.670 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:57:48.676 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 15:57:48.676 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:48.676 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:57:48.676 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:57:48.790 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 15:57:48.794 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:57:48.796 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 15:57:48.797 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 15:57:48.797 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 126.4981ms
[2025-12-02 15:57:48.797 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 15:57:48.797 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 127.3409ms
[2025-12-02 15:57:48.858 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:57:48.876 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 15:57:48.876 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:48.876 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.3325ms
[2025-12-02 15:57:48.883 +02:00  INF]  Executed DbCommand (23ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 15:57:48.886 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 15:57:48.886 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 235.4416ms
[2025-12-02 15:57:48.886 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 15:57:48.886 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:57:48.886 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:48.886 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 240.7032ms
[2025-12-02 15:57:48.886 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 15:57:48.886 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:57:48.895 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 15:57:48.895 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 15:57:48.895 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 8.4898ms
[2025-12-02 15:57:48.895 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 15:57:48.895 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 9.1671ms
[2025-12-02 15:57:48.913 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 15:57:48.914 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:57:48.920 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:57:48.922 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:57:48.923 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:57:48.925 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:57:48.927 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:57:48.928 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:57:48.930 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:57:48.934 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:57:48.934 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 15:57:48.938 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 261.5483ms
[2025-12-02 15:57:48.938 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:57:48.938 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 262.352ms
[2025-12-02 15:57:50.636 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 15:57:50.636 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:50.637 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:57:50.637 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:57:50.637 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 15:57:50.638 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:50.638 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 15:57:50.638 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:57:50.638 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 15:57:50.639 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:50.639 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 15:57:50.639 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:57:50.640 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:57:50.641 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 15:57:50.642 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:50.642 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:57:50.642 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:57:50.642 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 15:57:50.642 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 15:57:50.643 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 15:57:50.644 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 15:57:50.644 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 5.1216ms
[2025-12-02 15:57:50.644 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 15:57:50.645 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 6.1941ms
[2025-12-02 15:57:50.645 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 15:57:50.646 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 15:57:50.646 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 15:57:50.647 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 9.9235ms
[2025-12-02 15:57:50.647 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 15:57:50.648 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 11.4789ms
[2025-12-02 15:57:50.648 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 15:57:50.649 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 11.1867ms
[2025-12-02 15:57:50.649 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 15:57:50.650 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 12.4861ms
[2025-12-02 15:57:50.706 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 15:57:50.707 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:57:50.708 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:57:50.709 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:57:50.711 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:57:50.711 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:57:50.712 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:57:50.713 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:57:50.714 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:57:50.716 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:57:50.716 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 15:57:50.717 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 75.1793ms
[2025-12-02 15:57:50.717 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:57:50.717 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 75.8799ms
[2025-12-02 15:57:54.585 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 15:57:54.585 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:54.585 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.7791ms
[2025-12-02 15:57:54.587 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 15:57:54.587 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:57:54.587 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:57:54.587 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:57:54.597 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 15:57:54.599 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:57:54.603 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:57:54.606 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:57:54.607 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:57:54.607 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:57:54.609 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:57:54.609 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:57:54.610 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:57:54.611 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:57:54.611 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 15:57:54.612 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 24.6534ms
[2025-12-02 15:57:54.612 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:57:54.613 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 25.5279ms
[2025-12-02 15:58:14.605 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 15:58:14.605 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:58:14.605 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.8923ms
[2025-12-02 15:58:14.608 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 15:58:14.608 +02:00  INF]  CORS policy execution successful.
[2025-12-02 15:58:14.608 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:58:14.608 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 15:58:14.614 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 15:58:14.615 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:58:14.616 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 15:58:14.618 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 15:58:14.619 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:58:14.620 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 15:58:14.620 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:58:14.621 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 15:58:14.621 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 15:58:14.622 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 15:58:14.622 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 15:58:14.623 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 15.1399ms
[2025-12-02 15:58:14.623 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 15:58:14.624 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 16.2121ms
[2025-12-02 16:03:48.653 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:03:48.653 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:03:48.685 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 1.4327ms
[2025-12-02 16:03:48.688 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:03:48.688 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:03:48.688 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:03:48.688 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:03:48.750 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:03:48.752 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:03:48.755 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:03:48.757 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:03:48.758 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:03:48.758 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:03:48.760 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:03:48.761 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:03:48.762 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:03:48.763 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:03:48.763 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:03:48.765 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 76.594ms
[2025-12-02 16:03:48.767 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:03:48.768 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 80.7772ms
[2025-12-02 16:04:15.618 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:04:15.624 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:04:15.626 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 7.9552ms
[2025-12-02 16:04:15.631 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:04:15.631 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:04:15.631 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:04:15.631 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:04:15.638 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:04:15.642 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:04:15.643 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:04:15.644 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:04:15.645 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:04:15.645 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:04:15.645 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:04:15.646 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:04:15.646 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:04:15.646 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:04:15.647 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:04:15.648 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 17.3575ms
[2025-12-02 16:04:15.650 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:04:15.653 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 20.7185ms
[2025-12-02 16:06:40.985 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:06:40.985 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:40.990 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 4.9115ms
[2025-12-02 16:06:40.991 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:06:40.995 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:40.995 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:06:40.995 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 4.0334ms
[2025-12-02 16:06:40.995 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:06:40.995 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:40.996 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.1955ms
[2025-12-02 16:06:40.996 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:40.996 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.1368ms
[2025-12-02 16:06:41.003 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:06:41.003 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:41.006 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:06:41.006 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:06:41.006 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:06:41.006 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:41.006 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:06:41.006 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:06:41.009 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:06:41.011 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:06:41.011 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:41.011 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:06:41.012 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:06:41.012 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:41.012 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:06:41.012 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:06:41.012 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:06:41.013 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:06:41.017 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:06:41.017 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:06:41.018 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 5.9269ms
[2025-12-02 16:06:41.018 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:06:41.018 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 7.4352ms
[2025-12-02 16:06:41.093 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:06:41.093 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:06:41.094 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 87.557ms
[2025-12-02 16:06:41.094 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:06:41.094 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 88.1282ms
[2025-12-02 16:06:41.095 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:06:41.097 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:06:41.097 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:06:41.097 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 91.5011ms
[2025-12-02 16:06:41.097 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:06:41.098 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 94.9434ms
[2025-12-02 16:06:41.112 +02:00  INF]  Executed DbCommand (14ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:06:41.114 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:06:41.120 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:06:41.121 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:06:41.124 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:06:41.125 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:06:41.126 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:06:41.127 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:06:41.129 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:06:41.132 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:06:41.132 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:06:41.133 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 121.2128ms
[2025-12-02 16:06:41.133 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:06:41.133 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 121.7492ms
[2025-12-02 16:06:57.572 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:06:57.573 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:57.573 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.735ms
[2025-12-02 16:06:57.575 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:06:57.575 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:06:57.575 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:06:57.575 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:06:57.590 +02:00  INF]  Executed DbCommand (14ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:06:57.591 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:06:57.595 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:06:57.597 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:06:57.599 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:06:57.600 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:06:57.602 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:06:57.604 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:06:57.606 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:06:57.607 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:06:57.607 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:06:57.608 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 32.4592ms
[2025-12-02 16:06:57.608 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:06:57.608 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 33.5851ms
[2025-12-02 16:07:03.563 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:07:03.563 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:03.564 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.4806ms
[2025-12-02 16:07:03.565 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:07:03.565 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:03.565 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:07:03.565 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:03.570 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:07:03.571 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:03.572 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:03.573 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:03.574 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:03.575 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:03.576 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:03.576 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:03.577 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:03.578 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:03.578 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:07:03.579 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 13.4729ms
[2025-12-02 16:07:03.579 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:07:03.579 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 14.339ms
[2025-12-02 16:07:05.562 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:07:05.562 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:05.562 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:07:05.562 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:05.568 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:07:05.568 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:05.569 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:05.571 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:05.571 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:05.572 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:05.573 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:05.573 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:05.574 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:05.575 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:05.575 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:07:05.576 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 13.5291ms
[2025-12-02 16:07:05.576 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:07:05.576 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 14.5242ms
[2025-12-02 16:07:23.596 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:07:23.596 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:23.597 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:07:23.597 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:07:23.597 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.657ms
[2025-12-02 16:07:23.597 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:23.597 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:23.597 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.7325ms
[2025-12-02 16:07:23.597 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.1966ms
[2025-12-02 16:07:23.599 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:07:23.600 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:23.600 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:07:23.600 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:23.600 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:07:23.600 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:23.601 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:07:23.601 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:07:23.601 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:23.601 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:23.601 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:07:23.601 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:23.604 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:07:23.605 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:07:23.606 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:07:23.606 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 4.7142ms
[2025-12-02 16:07:23.606 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:07:23.606 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 5.3313ms
[2025-12-02 16:07:23.606 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:07:23.609 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:07:23.610 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:07:23.612 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:07:23.613 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 11.7047ms
[2025-12-02 16:07:23.613 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:07:23.613 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:07:23.613 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:23.613 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 13.3852ms
[2025-12-02 16:07:23.613 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:07:23.613 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.6032ms
[2025-12-02 16:07:23.614 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:07:23.614 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 14.4692ms
[2025-12-02 16:07:23.614 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:07:23.617 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 18.352ms
[2025-12-02 16:07:23.620 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:07:23.620 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:23.620 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:07:23.621 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:23.625 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:07:23.626 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:23.629 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:23.630 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:23.632 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:23.633 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:23.634 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:23.635 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:23.636 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:23.636 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:23.637 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:07:23.638 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 16.991ms
[2025-12-02 16:07:23.638 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:07:23.638 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 19.9787ms
[2025-12-02 16:07:27.797 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 16:07:27.797 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:27.797 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:07:27.797 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.7461ms
[2025-12-02 16:07:27.797 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:27.797 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.1558ms
[2025-12-02 16:07:27.799 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:07:27.800 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:07:27.800 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:27.800 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:27.800 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:07:27.800 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:07:27.800 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:27.800 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:27.807 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:07:27.807 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:07:27.808 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 7.6678ms
[2025-12-02 16:07:27.808 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:07:27.808 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 8.5639ms
[2025-12-02 16:07:27.816 +02:00  INF]  Executed DbCommand (14ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:07:27.827 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.828 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.832 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.836 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.838 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.839 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.839 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.840 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.841 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.842 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.843 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.844 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.845 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.846 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.847 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.849 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.850 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.851 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.852 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.852 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.853 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.853 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.854 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.855 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.856 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.856 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.857 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.857 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.857 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.858 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.858 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.859 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.859 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.860 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.861 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.861 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.862 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.862 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.862 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.863 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.863 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.864 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.866 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.868 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.868 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.869 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.869 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.870 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.870 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.871 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.871 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.871 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.872 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.873 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.874 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.874 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.875 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.875 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.875 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.876 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.876 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.877 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.877 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.878 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.879 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.879 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.880 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.880 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.883 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.884 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.884 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.885 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.886 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.887 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.888 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.888 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.888 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.889 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.889 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.890 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.890 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.890 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.891 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.892 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.893 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.893 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.894 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.894 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.894 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.895 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.895 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.895 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.896 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.899 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.900 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.900 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.901 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.902 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.902 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.903 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.903 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.904 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.906 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.907 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.908 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.909 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.909 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.909 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.910 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.910 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.911 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.911 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.912 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.913 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.914 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.916 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.917 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.917 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.918 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.918 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.919 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.919 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.920 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.921 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.922 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.923 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.924 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.924 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.924 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.925 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.925 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.925 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.926 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.927 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.928 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.928 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.929 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.929 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.929 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.930 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.931 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.933 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.934 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.935 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.936 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.937 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.937 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.937 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.938 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.938 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.938 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.939 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.940 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.941 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.941 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.942 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.942 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.943 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.943 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.943 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.944 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.944 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.945 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.946 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.947 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.949 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.950 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.951 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.951 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.952 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.952 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:27.953 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.954 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:27.954 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:27.955 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.956 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.956 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.956 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:27.957 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:27.957 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:27.957 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:07:27.989 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 188.6893ms
[2025-12-02 16:07:27.989 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:07:27.989 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86257 application/json; charset=utf-8 189.3239ms
[2025-12-02 16:07:32.354 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/AddTripToWishList - null null
[2025-12-02 16:07:32.354 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:32.354 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/AddTripToWishList - 204 null null 0.7464ms
[2025-12-02 16:07:32.356 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/AddTripToWishList - application/json 118
[2025-12-02 16:07:32.360 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:32.476 +02:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/27/2025 3:51:30 PM', Current time (UTC): '12/2/2025 2:07:32 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-12-02 16:07:32.496 +02:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/27/2025 3:51:30 PM', Current time (UTC): '12/2/2025 2:07:32 PM'.
[2025-12-02 16:07:32.500 +02:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-12-02 16:07:32.504 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-12-02 16:07:32.504 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/AddTripToWishList - 401 0 null 147.8278ms
[2025-12-02 16:07:45.334 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 16:07:45.334 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:45.334 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:07:45.334 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.3615ms
[2025-12-02 16:07:45.334 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:45.334 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:07:45.334 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.1854ms
[2025-12-02 16:07:45.334 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:45.334 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.1836ms
[2025-12-02 16:07:45.339 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:07:45.339 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:45.339 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:07:45.339 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:07:45.339 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:45.339 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:45.340 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:07:45.340 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:45.341 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:07:45.341 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:45.341 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:07:45.341 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:07:45.343 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:07:45.343 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:07:45.343 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 3.9034ms
[2025-12-02 16:07:45.343 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:07:45.343 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 4.4431ms
[2025-12-02 16:07:45.365 +02:00  INF]  Executed DbCommand (24ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:07:45.366 +02:00  INF]  Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:07:45.368 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:07:45.368 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 26.6433ms
[2025-12-02 16:07:45.369 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:07:45.369 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 27.7851ms
[2025-12-02 16:07:45.369 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.373 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.376 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.380 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.381 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.381 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.382 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.382 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.383 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.384 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.384 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.385 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.386 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.389 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.390 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.392 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.393 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.394 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.394 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.395 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.396 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.397 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.398 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.399 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.400 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.401 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.402 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.403 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.403 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.404 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.405 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.407 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.408 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.409 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.410 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.411 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.411 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.412 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.412 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.413 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.413 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.414 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.415 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.416 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.417 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.417 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.418 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.418 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.419 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.420 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.420 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.421 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.424 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.425 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.426 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.427 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.427 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.428 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.428 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.429 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.429 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.429 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.430 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.431 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.432 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.432 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.433 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.433 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.434 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.434 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.434 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.435 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.435 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.436 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.437 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.439 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.440 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.441 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.441 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.442 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.442 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.442 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.443 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.444 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.445 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.445 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.446 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.446 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.446 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.447 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.447 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.447 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.448 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.449 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.450 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.450 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.451 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.451 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.452 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.452 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.453 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.453 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.455 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.457 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.458 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.459 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.460 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.460 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.461 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.462 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.463 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.464 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.465 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.467 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.468 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.468 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.469 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.469 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.470 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.470 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.472 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.474 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.476 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.477 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.478 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.479 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.479 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.480 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.480 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.481 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.481 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.482 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.483 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.484 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.485 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.485 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.486 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.486 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.487 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.488 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.489 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.491 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.492 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.493 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.495 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.495 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.496 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.497 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.497 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.498 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.499 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.499 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.501 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.502 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.503 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.504 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.505 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.507 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.508 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.509 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.509 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.510 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.512 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.513 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.514 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.514 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.515 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.515 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.516 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.516 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.517 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:45.517 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.518 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:45.519 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:45.520 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.523 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.524 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.525 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:45.525 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:45.526 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:45.526 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:07:45.551 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 211.568ms
[2025-12-02 16:07:45.551 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:07:45.551 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86257 application/json; charset=utf-8 212.0621ms
[2025-12-02 16:07:50.545 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/AddTripToWishList - null null
[2025-12-02 16:07:50.545 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:50.545 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/AddTripToWishList - 204 null null 0.5482ms
[2025-12-02 16:07:50.547 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/AddTripToWishList - application/json 118
[2025-12-02 16:07:50.547 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:50.562 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.AddTripToWishList (ExcursionApp)'
[2025-12-02 16:07:50.564 +02:00  INF]  Route matched with {action = "AddTripToWishList", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddTripToWishList(ExcursionApp.Data.Models.trips.TripsWishlistReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-12-02 16:07:50.591 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__row_client_id_0='?', @__row_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.client_id = @__row_client_id_0 AND t.trip_id = @__row_trip_id_1
LIMIT 2
[2025-12-02 16:07:50.594 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_wishlist AS t
[2025-12-02 16:07:50.602 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.id)
FROM trips_wishlist AS t
[2025-12-02 16:07:50.693 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?', @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO trips_wishlist (id, client_id, created_at, trip_id, trip_type)
VALUES (@p0, @p1, @p2, @p3, @p4);
[2025-12-02 16:07:50.699 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.ResponseCls'.
[2025-12-02 16:07:50.701 +02:00  INF]  Executed action ExcursionApp.Controllers.BookingController.AddTripToWishList (ExcursionApp) in 137.0186ms
[2025-12-02 16:07:50.701 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.AddTripToWishList (ExcursionApp)'
[2025-12-02 16:07:50.701 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/AddTripToWishList - 200 54 application/json; charset=utf-8 154.2885ms
[2025-12-02 16:07:50.705 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetWishListCount?clientId=96b8d3c5-cdd6-4497-af19-2cbcd361f129 - null null
[2025-12-02 16:07:50.707 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:50.708 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetWishListCount?clientId=96b8d3c5-cdd6-4497-af19-2cbcd361f129 - 204 null null 2.5857ms
[2025-12-02 16:07:50.709 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetWishListCount?clientId=96b8d3c5-cdd6-4497-af19-2cbcd361f129 - application/json 2
[2025-12-02 16:07:50.709 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:50.709 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetWishListCount (ExcursionApp)'
[2025-12-02 16:07:50.712 +02:00  INF]  Route matched with {action = "GetWishListCount", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWishListCount(System.String) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:50.719 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__client_id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM trips_wishlist AS t
WHERE t.client_id = @__client_id_0
[2025-12-02 16:07:50.723 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Int32'.
[2025-12-02 16:07:50.723 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetWishListCount (ExcursionApp) in 10.3431ms
[2025-12-02 16:07:50.723 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetWishListCount (ExcursionApp)'
[2025-12-02 16:07:50.723 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetWishListCount?clientId=96b8d3c5-cdd6-4497-af19-2cbcd361f129 - 200 1 application/json; charset=utf-8 14.4658ms
[2025-12-02 16:07:50.739 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:07:50.739 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:50.739 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.434ms
[2025-12-02 16:07:50.741 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:07:50.741 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:50.741 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:07:50.742 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:50.750 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:07:50.754 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.755 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.756 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.758 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.759 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.760 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.760 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.761 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.763 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.763 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.764 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.764 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.765 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.767 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.767 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.768 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.769 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.770 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.771 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.772 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.774 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.774 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.775 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.776 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.777 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.778 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.778 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.779 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.779 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.780 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.780 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.780 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.781 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.782 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.783 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.783 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.784 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.784 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.785 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.787 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.788 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.789 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.790 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.791 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.792 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.793 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.793 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.794 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.794 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.794 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.795 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.795 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.796 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.797 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.798 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.798 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.799 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.799 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.800 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.800 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.800 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.801 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.803 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.805 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.806 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.806 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.807 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.807 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.808 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.808 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.809 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.809 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.810 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.811 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.812 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.813 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.813 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.813 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.814 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.814 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.815 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.815 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.816 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.817 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.819 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.820 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.821 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.822 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.823 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.823 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.824 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.824 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.825 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.826 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.827 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.828 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.828 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.829 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.829 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.830 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.830 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.830 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.831 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.832 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.833 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.834 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.834 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.836 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.837 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.839 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.840 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.840 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.841 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.842 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.844 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.844 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.845 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.846 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.847 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.847 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.848 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.849 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.851 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.854 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.855 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.857 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.858 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.858 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.859 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.860 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.861 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.862 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.863 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.864 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.865 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.865 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.866 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.866 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.866 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.867 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.867 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.868 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.871 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.873 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.874 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.875 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.876 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.876 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.877 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.877 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.878 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.878 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.880 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.881 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.882 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.882 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.883 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.884 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.884 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.886 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.887 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.888 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.890 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.891 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.892 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.892 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.893 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.893 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.894 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.894 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.895 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:07:50.895 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.896 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:50.897 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:50.898 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.899 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.899 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.900 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:50.901 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:50.902 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:50.903 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:07:50.932 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 190.4748ms
[2025-12-02 16:07:50.932 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:07:50.932 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86265 application/json; charset=utf-8 192.0291ms
[2025-12-02 16:07:58.018 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:07:58.019 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:07:58.019 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:07:58.019 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:58.019 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:58.019 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.288ms
[2025-12-02 16:07:58.019 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.8114ms
[2025-12-02 16:07:58.020 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:07:58.020 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:58.020 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:58.020 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.204ms
[2025-12-02 16:07:58.020 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 2.0747ms
[2025-12-02 16:07:58.023 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:07:58.023 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:07:58.024 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:58.024 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:58.024 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:07:58.024 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:07:58.024 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:58.028 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:07:58.028 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:58.028 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:07:58.028 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:58.024 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:58.030 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:07:58.030 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:07:58.031 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:07:58.032 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:07:58.037 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:07:58.038 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:07:58.039 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:07:58.039 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:07:58.039 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:07:58.040 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 10.2666ms
[2025-12-02 16:07:58.040 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:07:58.040 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 99 application/json; charset=utf-8 16.4432ms
[2025-12-02 16:07:58.041 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:07:58.041 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:07:58.041 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 9.8433ms
[2025-12-02 16:07:58.041 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:07:58.042 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 11.695ms
[2025-12-02 16:07:58.052 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:07:58.052 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:07:58.052 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 28.3207ms
[2025-12-02 16:07:58.052 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:07:58.052 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 29.0809ms
[2025-12-02 16:07:58.053 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:07:58.054 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:58.055 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:07:58.056 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:07:58.058 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:58.059 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:07:58.059 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:58.060 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:07:58.060 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:07:58.061 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:07:58.061 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:07:58.062 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 33.9054ms
[2025-12-02 16:07:58.062 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:07:58.062 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 10424 application/json; charset=utf-8 34.739ms
[2025-12-02 16:23:10.622 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:23:10.622 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:23:10.622 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.5631ms
[2025-12-02 16:23:10.623 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:23:10.624 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:23:10.624 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:23:10.624 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:23:10.810 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:23:10.812 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:23:10.817 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:23:10.818 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:23:10.819 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:23:10.820 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:23:10.823 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:23:10.824 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:23:10.826 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:23:10.827 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:23:10.827 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:23:10.829 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 204.9749ms
[2025-12-02 16:23:10.829 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:23:10.829 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 10424 application/json; charset=utf-8 205.8629ms
[2025-12-02 16:25:41.076 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 16:25:41.076 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:25:41.076 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.3347ms
[2025-12-02 16:25:41.076 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:25:41.076 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:25:41.083 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:25:41.083 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:25:41.083 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 6.5099ms
[2025-12-02 16:25:41.083 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 6.4436ms
[2025-12-02 16:25:41.091 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:25:41.091 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:25:41.091 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:25:41.091 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:25:41.097 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:25:41.097 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:25:41.097 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:25:41.099 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:25:41.099 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 7.9669ms
[2025-12-02 16:25:41.099 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:25:41.099 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:25:41.099 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 8.493ms
[2025-12-02 16:25:41.099 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:25:41.099 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:25:41.099 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:25:41.100 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:25:41.100 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:25:41.139 +02:00  INF]  Executed DbCommand (38ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:25:41.145 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.146 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.149 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.170 +02:00  INF]  Executed DbCommand (20ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.173 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.176 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.177 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.178 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.178 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.179 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.180 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.180 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.185 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.187 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.188 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.189 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.189 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.190 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.191 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.192 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.192 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.193 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.195 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.196 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.197 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.200 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.201 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.201 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.202 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.203 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.203 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.204 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.205 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.206 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.207 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.208 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.209 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.209 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.210 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.211 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.211 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.212 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.213 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:25:41.214 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.214 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:25:41.214 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 114.2475ms
[2025-12-02 16:25:41.214 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:25:41.217 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 117.7047ms
[2025-12-02 16:25:41.219 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.220 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.224 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.225 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.226 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.227 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.229 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.229 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.230 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.232 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.235 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.236 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.237 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.237 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.238 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.238 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.239 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.239 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.240 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.241 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.242 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.243 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.244 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.245 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.245 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.246 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.246 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.247 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.250 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.251 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.252 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.253 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.254 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.254 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.255 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.256 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.257 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.257 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.258 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.259 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.260 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.261 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.262 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.263 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.264 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.266 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.267 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.268 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.269 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.270 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.272 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.273 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.273 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.274 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.275 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.276 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.277 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.278 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.279 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.282 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.285 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.286 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.287 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.287 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.288 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.289 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.289 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.290 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.291 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.292 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.293 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.294 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.295 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.295 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.296 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.297 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.299 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.300 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.301 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.303 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.304 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.305 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.306 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.306 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.307 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.307 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.308 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.309 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.309 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.311 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.312 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.313 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.313 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.314 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.316 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.317 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.318 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.319 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.319 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.321 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.322 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.323 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.323 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.324 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.324 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.325 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.325 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.326 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.327 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.328 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.329 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.330 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.331 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.333 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.334 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.335 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.335 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.336 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.337 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.338 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.339 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.340 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.340 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.341 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.342 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.342 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.343 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.344 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:25:41.344 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.346 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:25:41.347 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:25:41.349 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.350 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.351 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.352 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:25:41.353 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:25:41.353 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:25:41.353 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:25:41.389 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 289.3673ms
[2025-12-02 16:25:41.389 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:25:41.389 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86265 application/json; charset=utf-8 291.8507ms
[2025-12-02 16:27:39.414 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:27:39.415 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:27:39.416 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:27:39.416 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 1.3384ms
[2025-12-02 16:27:39.416 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:27:39.416 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:27:39.416 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 1.003ms
[2025-12-02 16:27:39.417 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:27:39.417 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 1.02ms
[2025-12-02 16:27:39.420 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:27:39.421 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:27:39.421 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 3.7775ms
[2025-12-02 16:27:39.425 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:27:39.426 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:27:39.426 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:27:39.426 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:27:39.426 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:27:39.426 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:27:39.426 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:27:39.426 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:27:39.426 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:27:39.427 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:27:39.427 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:27:39.427 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:27:39.432 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:27:39.440 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:27:39.442 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:27:39.442 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:27:39.442 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 16.1939ms
[2025-12-02 16:27:39.442 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:27:39.442 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 17.0914ms
[2025-12-02 16:27:39.443 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:27:39.443 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:27:39.443 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:27:39.443 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:27:39.445 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:27:39.447 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:27:39.447 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:27:39.448 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 20.7236ms
[2025-12-02 16:27:39.448 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:27:39.448 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 21.7945ms
[2025-12-02 16:27:39.452 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:27:39.453 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:27:39.453 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 27.428ms
[2025-12-02 16:27:39.454 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:27:39.454 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 28.3256ms
[2025-12-02 16:27:39.510 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:27:39.511 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:27:39.512 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:27:39.513 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:27:39.513 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:27:39.514 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:27:39.515 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:27:39.516 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:27:39.517 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:27:39.519 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:27:39.519 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:27:39.520 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 76.4328ms
[2025-12-02 16:27:39.520 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:27:39.520 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 77.0891ms
[2025-12-02 16:28:03.966 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:28:03.967 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.971 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 4.3807ms
[2025-12-02 16:28:03.971 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:28:03.974 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.974 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:28:03.974 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 2.3395ms
[2025-12-02 16:28:03.974 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:28:03.974 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.974 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.974 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.1578ms
[2025-12-02 16:28:03.974 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.097ms
[2025-12-02 16:28:03.974 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:28:03.975 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.975 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.6745ms
[2025-12-02 16:28:03.975 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:28:03.977 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.978 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:28:03.978 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:28:03.980 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:28:03.980 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:28:03.980 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.980 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.980 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:28:03.981 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:28:03.981 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:28:03.981 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:28:03.982 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:28:03.983 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:28:03.983 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.983 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:28:03.983 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:28:03.985 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:28:03.985 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:28:03.986 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:28:03.986 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:28:03.986 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:28:03.986 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:28:03.986 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 6.3847ms
[2025-12-02 16:28:03.986 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:28:03.986 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.7629ms
[2025-12-02 16:28:03.987 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:28:03.987 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:28:03.988 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:28:03.988 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 4.803ms
[2025-12-02 16:28:03.988 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:28:03.988 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 5.4003ms
[2025-12-02 16:28:03.988 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:28:03.989 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:28:03.990 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 9.4992ms
[2025-12-02 16:28:03.990 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:28:03.991 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 10.5096ms
[2025-12-02 16:28:03.992 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:28:03.994 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:28:03.994 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:28:03.994 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 12.5985ms
[2025-12-02 16:28:03.994 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:28:03.994 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 14.4717ms
[2025-12-02 16:28:04.048 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:28:04.049 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:28:04.052 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:28:04.054 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:28:04.056 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:28:04.056 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:28:04.057 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:28:04.058 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:28:04.059 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:28:04.060 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:28:04.060 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:28:04.061 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 75.045ms
[2025-12-02 16:28:04.061 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:28:04.061 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 75.6055ms
[2025-12-02 16:32:00.883 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:32:00.884 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:00.892 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 3.607ms
[2025-12-02 16:32:00.892 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 16:32:00.892 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:32:00.892 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:00.892 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:00.892 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.1193ms
[2025-12-02 16:32:00.892 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.1606ms
[2025-12-02 16:32:00.898 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:32:00.899 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:32:00.901 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:00.901 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:00.902 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:32:00.902 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:32:00.904 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:00.905 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:32:00.905 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:32:00.905 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:00.905 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:32:00.905 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:00.913 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:32:00.913 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:32:00.913 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 8.13ms
[2025-12-02 16:32:00.913 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:32:00.913 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 14.9622ms
[2025-12-02 16:32:00.931 +02:00  INF]  Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:32:00.933 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:32:00.933 +02:00  INF]  Executed DbCommand (25ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:32:00.933 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 28.3014ms
[2025-12-02 16:32:00.933 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:32:00.933 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 36.7353ms
[2025-12-02 16:32:00.942 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:00.948 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.949 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:00.951 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:00.955 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.956 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.960 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:00.961 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:00.962 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.964 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:00.966 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:00.967 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.971 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:00.972 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:00.973 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.975 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.976 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:00.977 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:00.977 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.978 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:00.978 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:00.979 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.981 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:00.982 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:00.983 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.983 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.984 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:00.984 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:00.984 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.985 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:00.985 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:00.985 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.986 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:00.987 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:00.988 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.988 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.988 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:00.989 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:00.989 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.991 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:00.993 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:00.994 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.995 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:00.997 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:00.998 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:00.999 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.000 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.001 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.002 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.003 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.004 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.004 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.006 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.009 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.010 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.011 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.011 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.012 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.012 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.013 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.013 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.014 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.015 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.017 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.018 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.019 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.019 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.020 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.020 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.021 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.021 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.022 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.025 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.026 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.027 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.028 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.028 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.029 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.029 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.030 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.030 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.031 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.032 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.033 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.034 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.034 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.035 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.035 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.036 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.036 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.036 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.037 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.038 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.039 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.041 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.042 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.043 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.043 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.044 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.044 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.045 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.045 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.046 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.047 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.048 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.049 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.049 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.050 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.050 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.051 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.051 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.052 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.053 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.054 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.055 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.055 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.056 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.057 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.059 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.060 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.060 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.061 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.062 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.063 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.064 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.064 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.065 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.065 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.066 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.066 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.066 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.067 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.068 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.069 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.070 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.070 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.071 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.071 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.071 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.072 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.072 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.073 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.076 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.076 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.077 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.078 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.078 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.078 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.079 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.079 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.080 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.080 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.081 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.082 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.082 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.083 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.083 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.084 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.084 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.084 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.085 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.085 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.086 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.087 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.087 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.088 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.088 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.088 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.089 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.090 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.092 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:32:01.092 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.093 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:01.094 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:01.095 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.095 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.096 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.096 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:01.097 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:01.097 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:01.097 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:32:01.121 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 215.778ms
[2025-12-02 16:32:01.121 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:32:01.121 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86265 application/json; charset=utf-8 216.33ms
[2025-12-02 16:32:09.077 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:32:09.077 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:09.077 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:32:09.077 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.2708ms
[2025-12-02 16:32:09.079 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:32:09.079 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:09.079 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:32:09.079 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.2907ms
[2025-12-02 16:32:09.079 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:09.079 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.111ms
[2025-12-02 16:32:09.079 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:09.079 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 1.8149ms
[2025-12-02 16:32:09.083 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:32:09.083 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:09.083 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:32:09.084 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:09.084 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:32:09.084 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:09.084 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:32:09.084 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:09.092 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:32:09.092 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:32:09.092 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:09.092 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:32:09.092 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:09.094 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:32:09.095 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:32:09.096 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:32:09.096 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:32:09.096 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:32:09.096 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 12.5685ms
[2025-12-02 16:32:09.096 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:09.096 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:32:09.096 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:32:09.096 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:09.096 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 13.406ms
[2025-12-02 16:32:09.097 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:32:09.098 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:32:09.098 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 5.6612ms
[2025-12-02 16:32:09.098 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:32:09.099 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 6.8838ms
[2025-12-02 16:32:09.111 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:32:09.112 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:32:09.112 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:32:09.113 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 16.1914ms
[2025-12-02 16:32:09.113 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:32:09.113 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 17.1587ms
[2025-12-02 16:32:09.115 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:09.118 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:09.121 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:09.122 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:09.123 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:09.124 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:09.125 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:09.126 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:09.128 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:09.128 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:32:09.129 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 44.0183ms
[2025-12-02 16:32:09.129 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:32:09.129 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 44.74ms
[2025-12-02 16:32:45.981 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:32:45.981 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:45.984 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.5986ms
[2025-12-02 16:32:45.985 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:32:45.985 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:45.985 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.5224ms
[2025-12-02 16:32:45.992 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:32:45.995 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:32:45.995 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:45.996 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:45.996 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 3.6533ms
[2025-12-02 16:32:45.996 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.7298ms
[2025-12-02 16:32:45.996 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:32:46.002 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:46.002 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 5.8775ms
[2025-12-02 16:32:46.016 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:32:46.016 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:32:46.016 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:46.015 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:32:46.016 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:46.016 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:46.016 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:32:46.016 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:32:46.016 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:32:46.016 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:46.016 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:46.016 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:32:46.016 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:32:46.016 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:46.016 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:32:46.018 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:46.018 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:32:46.019 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:32:46.020 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:32:46.020 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 3.4401ms
[2025-12-02 16:32:46.020 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:32:46.020 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 4.1875ms
[2025-12-02 16:32:46.020 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:32:46.020 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:32:46.020 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:32:46.020 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:32:46.020 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:32:46.021 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:32:46.021 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:32:46.021 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:32:46.021 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 3.3611ms
[2025-12-02 16:32:46.021 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:32:46.022 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 5.8626ms
[2025-12-02 16:32:46.025 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:32:46.025 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:32:46.026 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:32:46.027 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:46.027 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 10.9621ms
[2025-12-02 16:32:46.027 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:32:46.028 +02:00  INF]  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:32:46.028 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 11.9249ms
[2025-12-02 16:32:46.029 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:32:46.030 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:32:46.047 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 30.9096ms
[2025-12-02 16:32:46.048 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:32:46.048 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 32.9717ms
[2025-12-02 16:32:46.048 +02:00  INF]  Executed DbCommand (19ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:32:46.054 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:46.056 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:32:46.057 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:46.059 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:32:46.060 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:32:46.061 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:32:46.061 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:32:46.063 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 42.2878ms
[2025-12-02 16:32:46.063 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:32:46.063 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 42.708ms
[2025-12-02 16:33:21.541 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:33:21.541 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:33:21.541 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.4863ms
[2025-12-02 16:33:21.545 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:33:21.545 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:33:21.545 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:33:21.545 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:33:21.668 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:33:21.670 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:33:21.674 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:33:21.682 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:33:21.683 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:33:21.684 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:33:21.686 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:33:21.687 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:33:21.688 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:33:21.689 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:33:21.689 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:33:21.690 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 145.0266ms
[2025-12-02 16:33:21.690 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:33:21.690 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 145.7793ms
[2025-12-02 16:34:10.258 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:34:10.259 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.259 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.3811ms
[2025-12-02 16:34:10.259 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:34:10.259 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.259 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.189ms
[2025-12-02 16:34:10.260 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:34:10.260 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.260 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.6603ms
[2025-12-02 16:34:10.260 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:34:10.261 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.261 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.3294ms
[2025-12-02 16:34:10.261 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:34:10.261 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.261 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.1121ms
[2025-12-02 16:34:10.272 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:34:10.273 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.273 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:34:10.273 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:34:10.282 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:34:10.283 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:34:10.283 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 9.6138ms
[2025-12-02 16:34:10.283 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:34:10.283 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.0144ms
[2025-12-02 16:34:10.284 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:34:10.287 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.287 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:34:10.287 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:34:10.292 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:34:10.292 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.292 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:34:10.292 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:34:10.303 +02:00  INF]  Executed DbCommand (15ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:34:10.304 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:34:10.304 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.304 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:34:10.304 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:34:10.429 +02:00  INF]  Executed DbCommand (124ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:34:10.435 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:34:10.436 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:34:10.437 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:34:10.437 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:34:10.459 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:34:10.462 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:34:10.462 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:34:10.462 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 157.9592ms
[2025-12-02 16:34:10.462 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:34:10.462 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 158.4359ms
[2025-12-02 16:34:10.480 +02:00  INF]  Executed DbCommand (50ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:34:10.480 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:34:10.480 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 192.5839ms
[2025-12-02 16:34:10.480 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:34:10.482 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 197.5309ms
[2025-12-02 16:34:10.647 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:34:10.647 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:34:10.647 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 354.8618ms
[2025-12-02 16:34:10.647 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:34:10.648 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 355.4456ms
[2025-12-02 16:34:10.734 +02:00  INF]  Executed DbCommand (19ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:34:10.736 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:34:10.737 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:34:10.741 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:34:10.743 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:34:10.744 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:34:10.745 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:34:10.747 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:34:10.750 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:34:10.754 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:34:10.755 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:34:10.761 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 323.6036ms
[2025-12-02 16:34:10.761 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:34:10.761 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 326.7538ms
[2025-12-02 16:38:11.716 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:38:11.717 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:11.719 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 3.7253ms
[2025-12-02 16:38:11.723 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 81
[2025-12-02 16:38:11.724 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:11.724 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:38:11.724 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:38:11.731 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:38:11.735 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:38:11.741 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:38:11.744 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:38:11.747 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:38:11.750 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:38:11.751 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:38:11.753 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:38:11.754 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:38:11.756 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:38:11.756 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:38:11.757 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 32.838ms
[2025-12-02 16:38:11.757 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:38:11.758 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7848 application/json; charset=utf-8 33.7723ms
[2025-12-02 16:38:51.782 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:38:51.782 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:51.782 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.4318ms
[2025-12-02 16:38:51.786 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:38:51.786 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:38:51.789 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:51.789 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:51.789 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:38:51.789 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 2.7529ms
[2025-12-02 16:38:51.789 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:38:51.789 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:38:51.789 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:38:51.789 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:51.789 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:51.789 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.1402ms
[2025-12-02 16:38:51.789 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.3198ms
[2025-12-02 16:38:51.794 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 117
[2025-12-02 16:38:51.794 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:38:51.794 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:38:51.794 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:51.797 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:38:51.797 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:51.797 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:38:51.798 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:38:51.798 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:38:51.798 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:38:51.798 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:38:51.798 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:38:51.899 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:38:51.903 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:38:51.903 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:38:51.904 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 105.8525ms
[2025-12-02 16:38:51.904 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:38:51.904 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 109.6627ms
[2025-12-02 16:38:51.906 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:38:51.907 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:38:51.907 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 109.0866ms
[2025-12-02 16:38:51.907 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:38:51.907 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 112.9703ms
[2025-12-02 16:38:51.918 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:38:51.920 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:38:51.922 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:38:51.923 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:38:51.923 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 133.4315ms
[2025-12-02 16:38:51.923 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:38:51.923 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 136.581ms
[2025-12-02 16:38:51.929 +02:00  INF]  Executed DbCommand (14ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:38:51.932 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:38:51.933 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:38:51.938 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:38:51.939 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:38:51.942 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:38:51.942 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:38:51.943 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:38:51.946 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:38:51.948 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:38:51.950 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:38:51.950 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:38:51.951 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 153.5753ms
[2025-12-02 16:38:51.951 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:38:51.951 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7892 application/json; charset=utf-8 158.256ms
[2025-12-02 16:39:20.222 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:39:20.222 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 16:39:20.223 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:20.223 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:20.223 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 3.2196ms
[2025-12-02 16:39:20.223 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.8853ms
[2025-12-02 16:39:20.223 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:39:20.223 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:20.223 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.131ms
[2025-12-02 16:39:20.230 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:39:20.230 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:39:20.230 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:39:20.230 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:20.230 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:20.230 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:39:20.230 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:39:20.230 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:39:20.230 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:20.262 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:20.262 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:39:20.262 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:20.262 +02:00  INF]  Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:39:20.263 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:39:20.263 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 32.961ms
[2025-12-02 16:39:20.263 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:39:20.263 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 33.3024ms
[2025-12-02 16:39:20.290 +02:00  INF]  Executed DbCommand (26ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:39:20.290 +02:00  INF]  Executed DbCommand (26ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:39:20.291 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:39:20.291 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 28.3762ms
[2025-12-02 16:39:20.291 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:39:20.291 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 61.6691ms
[2025-12-02 16:39:20.296 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.304 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.309 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.311 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.314 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.315 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.317 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.318 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.319 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.322 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.324 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.325 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.329 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.331 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.335 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.337 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.338 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.338 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.340 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.341 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.341 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.341 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.342 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.343 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.344 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.344 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.345 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.345 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.345 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.346 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.346 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.346 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.347 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.348 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.349 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.351 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.352 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.352 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.353 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.353 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.354 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.354 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.355 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.356 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.356 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.357 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.357 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.357 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.358 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.358 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.359 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.359 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.360 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.360 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.361 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.362 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.362 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.362 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.363 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.363 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.364 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.364 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.365 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.368 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.369 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.369 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.370 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.370 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.371 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.371 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.371 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.372 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.373 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.373 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.374 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.374 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.375 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.375 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.376 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.376 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.376 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.377 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.377 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.378 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.379 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.379 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.380 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.380 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.380 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.381 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.381 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.381 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.384 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.385 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.386 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.387 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.388 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.388 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.389 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.390 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.391 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.392 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.393 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.394 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.395 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.396 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.396 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.397 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.397 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.397 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.398 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.399 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.402 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.403 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.403 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.404 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.404 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.405 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.405 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.405 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.406 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.406 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.407 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.408 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.409 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.409 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.409 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.410 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.410 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.411 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.411 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.411 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.412 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.413 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.414 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.414 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.414 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.416 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.417 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.418 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.418 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.419 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.420 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.420 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.421 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.422 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.422 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.422 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.423 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.423 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.423 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.424 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.425 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.425 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.426 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.427 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.427 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.427 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.428 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.428 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.428 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.429 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.430 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.431 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.431 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.433 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.434 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.435 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.436 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.436 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.436 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:20.437 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.438 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:20.438 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:20.439 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.440 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.440 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.440 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:20.441 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:20.441 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:20.441 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:39:20.464 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 234.0719ms
[2025-12-02 16:39:20.464 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:39:20.464 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86265 application/json; charset=utf-8 234.4647ms
[2025-12-02 16:39:34.509 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:39:34.509 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:39:34.509 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:34.509 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:34.509 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.2219ms
[2025-12-02 16:39:34.509 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.1226ms
[2025-12-02 16:39:34.510 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:39:34.510 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:39:34.510 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:34.510 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:34.510 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.1465ms
[2025-12-02 16:39:34.510 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.1062ms
[2025-12-02 16:39:34.515 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:39:34.519 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:34.519 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:39:34.520 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:39:34.520 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:34.520 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:39:34.520 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:34.520 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:34.522 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:39:34.523 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:39:34.524 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:34.524 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:39:34.524 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:34.530 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:39:34.531 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 117
[2025-12-02 16:39:34.532 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:34.532 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:39:34.532 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:34.532 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:39:34.532 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:39:34.532 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:39:34.533 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 12.5292ms
[2025-12-02 16:39:34.534 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:39:34.536 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:39:34.540 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:39:34.540 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 13.9248ms
[2025-12-02 16:39:34.540 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:39:34.547 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 23.0324ms
[2025-12-02 16:39:34.548 +02:00  INF]  Executed DbCommand (26ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:39:34.549 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:39:34.550 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 29.4385ms
[2025-12-02 16:39:34.550 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:39:34.550 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 35.6825ms
[2025-12-02 16:39:34.550 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 36.3993ms
[2025-12-02 16:39:34.555 +02:00  INF]  Executed DbCommand (20ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:39:34.567 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:34.568 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:34.570 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:34.571 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:34.572 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:34.572 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:34.573 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:34.573 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:34.574 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:34.575 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:34.576 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:39:34.577 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 45.3819ms
[2025-12-02 16:39:34.577 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:39:34.577 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 15022 application/json; charset=utf-8 46.3499ms
[2025-12-02 16:39:42.026 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 16:39:42.026 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:39:42.026 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:42.026 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:42.026 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.1792ms
[2025-12-02 16:39:42.026 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.1816ms
[2025-12-02 16:39:42.026 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:39:42.026 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:42.026 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.1957ms
[2025-12-02 16:39:42.030 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:39:42.030 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:42.030 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:39:42.030 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:42.030 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:39:42.030 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:42.030 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:39:42.030 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:42.033 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:39:42.033 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:42.034 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:39:42.034 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:39:42.042 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:39:42.042 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:39:42.042 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:39:42.043 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 8.7293ms
[2025-12-02 16:39:42.043 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:39:42.043 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 10.0011ms
[2025-12-02 16:39:42.044 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:39:42.045 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 14.4039ms
[2025-12-02 16:39:42.045 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:39:42.045 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 14.821ms
[2025-12-02 16:39:42.045 +02:00  INF]  Executed DbCommand (14ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:39:42.052 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.054 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.061 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.063 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.064 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.065 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.066 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.067 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.069 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.071 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.073 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.074 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.076 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.077 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.078 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.079 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.080 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.081 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.082 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.083 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.084 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.085 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.090 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.094 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.095 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.096 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.097 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.098 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.099 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.099 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.100 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.101 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.104 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.111 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.112 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.113 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.114 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.115 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.116 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.117 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.118 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.119 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.122 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.124 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.125 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.126 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.127 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.128 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.128 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.129 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.129 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.129 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.130 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.131 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.132 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.132 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.133 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.133 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.133 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.134 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.134 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.135 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.135 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.136 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.139 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.140 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.142 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.142 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.142 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.143 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.143 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.144 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.144 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.145 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.146 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.146 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.147 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.147 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.148 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.148 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.148 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.149 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.150 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.150 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.151 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.152 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.152 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.152 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.153 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.155 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.156 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.157 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.159 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.160 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.161 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.161 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.162 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.162 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.163 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.163 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.163 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.164 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.165 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.165 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.166 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.167 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.167 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.167 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.168 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.168 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.168 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.169 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.171 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.174 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.175 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.175 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.176 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.176 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.177 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.177 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.177 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.178 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.179 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.179 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.180 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.180 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.181 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.181 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.182 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.182 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.182 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.183 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.183 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.184 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.185 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.185 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.186 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.186 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.189 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.190 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.190 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.191 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.192 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.193 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.194 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.194 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.195 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.195 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.195 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.196 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.196 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.197 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.197 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.199 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.199 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.200 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.200 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.200 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.201 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.201 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.202 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.202 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.204 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.206 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.207 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.208 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.208 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.208 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.209 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.209 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.209 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:42.210 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.211 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:42.211 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:42.212 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.213 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.213 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.213 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:42.214 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:42.214 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:42.214 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:39:42.246 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 215.0558ms
[2025-12-02 16:39:42.246 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:39:42.246 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86265 application/json; charset=utf-8 215.4478ms
[2025-12-02 16:39:44.629 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:39:44.631 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:44.631 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 2.2434ms
[2025-12-02 16:39:44.632 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:39:44.632 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:44.632 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.2792ms
[2025-12-02 16:39:44.632 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:39:44.632 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:39:44.632 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:44.632 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:44.632 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.118ms
[2025-12-02 16:39:44.632 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.1556ms
[2025-12-02 16:39:44.637 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:39:44.638 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:39:44.638 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:44.638 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:39:44.639 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:44.639 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:44.639 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:39:44.639 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:44.648 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:39:44.648 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:44.648 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:39:44.648 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:44.651 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:39:44.654 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:39:44.655 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:39:44.655 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 6.5893ms
[2025-12-02 16:39:44.655 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:39:44.655 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 7.0818ms
[2025-12-02 16:39:44.655 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 117
[2025-12-02 16:39:44.655 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:39:44.655 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:39:44.655 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:39:44.657 +02:00  INF]  Executed DbCommand (17ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:39:44.661 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:39:44.665 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:39:44.666 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:39:44.666 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:39:44.666 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:39:44.666 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:39:44.666 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:39:44.666 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 27.3567ms
[2025-12-02 16:39:44.666 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 27.5053ms
[2025-12-02 16:39:44.666 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:39:44.666 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:39:44.666 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 29.065ms
[2025-12-02 16:39:44.666 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 28.0909ms
[2025-12-02 16:39:44.667 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:44.669 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:39:44.673 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:39:44.674 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:44.675 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:39:44.675 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:44.676 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:39:44.677 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:39:44.677 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:39:44.677 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:39:44.678 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 23.0758ms
[2025-12-02 16:39:44.678 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:39:44.678 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7892 application/json; charset=utf-8 23.544ms
[2025-12-02 16:49:04.773 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:49:04.773 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:49:04.773 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:49:04.773 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:49:04.773 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.773 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.773 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.773 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.773 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.3646ms
[2025-12-02 16:49:04.773 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.248ms
[2025-12-02 16:49:04.773 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.5868ms
[2025-12-02 16:49:04.773 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.4964ms
[2025-12-02 16:49:04.773 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:49:04.773 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.773 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.4186ms
[2025-12-02 16:49:04.779 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 117
[2025-12-02 16:49:04.779 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:49:04.779 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.779 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:49:04.779 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:04.780 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.780 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:49:04.780 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:04.781 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:49:04.781 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.781 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:49:04.782 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:49:04.782 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:49:04.782 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.782 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:49:04.782 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:04.783 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:49:04.783 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:04.783 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:49:04.783 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:04.859 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:49:04.863 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:49:04.863 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:49:04.863 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 80.5961ms
[2025-12-02 16:49:04.863 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:49:04.864 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 80.9486ms
[2025-12-02 16:49:04.897 +02:00  INF]  Executed DbCommand (15ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:49:04.899 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:49:04.901 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:49:04.901 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:49:04.901 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 119.5418ms
[2025-12-02 16:49:04.901 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:49:04.901 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:49:04.901 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 120.362ms
[2025-12-02 16:49:04.906 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:49:04.909 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:49:04.910 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:49:04.911 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:49:04.912 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:49:04.912 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:49:04.912 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 129.8286ms
[2025-12-02 16:49:04.912 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:49:04.912 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 130.2163ms
[2025-12-02 16:49:04.912 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:49:04.913 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:49:04.915 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:49:04.916 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:49:04.917 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:49:04.917 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:49:04.917 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 138.2293ms
[2025-12-02 16:49:04.917 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:49:04.918 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 138.722ms
[2025-12-02 16:49:04.919 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:49:04.921 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:49:04.921 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:49:04.922 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 141.6947ms
[2025-12-02 16:49:04.922 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:49:04.922 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7892 application/json; charset=utf-8 143.0058ms
[2025-12-02 16:49:10.934 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:49:10.934 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.934 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.4796ms
[2025-12-02 16:49:10.937 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:49:10.937 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.937 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.2529ms
[2025-12-02 16:49:10.937 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:49:10.937 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:49:10.937 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.937 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.1191ms
[2025-12-02 16:49:10.937 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.937 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:49:10.937 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:49:10.940 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:49:10.940 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.940 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 2.402ms
[2025-12-02 16:49:10.949 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:49:10.951 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:49:10.951 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:49:10.951 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 11.7828ms
[2025-12-02 16:49:10.951 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.951 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:49:10.951 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.2071ms
[2025-12-02 16:49:10.952 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:49:10.952 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.952 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:49:10.952 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:10.952 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 14.7688ms
[2025-12-02 16:49:10.952 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:49:10.952 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:49:10.952 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.952 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:49:10.952 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:10.954 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:49:10.961 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:49:10.952 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.961 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:49:10.961 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 8.9581ms
[2025-12-02 16:49:10.961 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:49:10.962 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 9.3164ms
[2025-12-02 16:49:10.962 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:49:10.965 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:49:10.968 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:49:10.969 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:10.969 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:49:10.969 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:49:10.969 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 17.3259ms
[2025-12-02 16:49:10.969 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:49:10.969 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 17.9244ms
[2025-12-02 16:49:10.971 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 117
[2025-12-02 16:49:10.971 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:10.971 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:49:10.971 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:10.977 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:49:10.977 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:49:10.977 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 8.162ms
[2025-12-02 16:49:10.977 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:49:10.977 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 25.1281ms
[2025-12-02 16:49:10.986 +02:00  INF]  Executed DbCommand (14ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:49:10.989 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:49:10.991 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:49:10.999 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:49:11.002 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:49:11.003 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:49:11.006 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:49:11.006 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:49:11.007 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:49:11.010 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:49:11.012 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:49:11.012 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:49:11.013 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 41.9171ms
[2025-12-02 16:49:11.013 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:49:11.013 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7892 application/json; charset=utf-8 43.4686ms
[2025-12-02 16:49:34.360 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:49:34.362 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:49:34.363 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.363 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 1.0824ms
[2025-12-02 16:49:34.360 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.368 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 7.9371ms
[2025-12-02 16:49:34.368 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:49:34.368 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:49:34.368 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.368 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.368 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 0.1266ms
[2025-12-02 16:49:34.368 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.1263ms
[2025-12-02 16:49:34.368 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:49:34.368 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.368 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.0702ms
[2025-12-02 16:49:34.374 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:49:34.374 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:49:34.375 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.375 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.375 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:49:34.375 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:34.375 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:49:34.375 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:49:34.380 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:49:34.383 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:49:34.388 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:49:34.388 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:49:34.389 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 13.6996ms
[2025-12-02 16:49:34.389 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:49:34.389 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 14.6855ms
[2025-12-02 16:49:34.390 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:49:34.390 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 117
[2025-12-02 16:49:34.390 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:49:34.390 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.390 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.390 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:49:34.390 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:49:34.390 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:49:34.390 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:34.390 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:34.390 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 15.1802ms
[2025-12-02 16:49:34.390 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:49:34.390 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 15.9662ms
[2025-12-02 16:49:34.393 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:49:34.394 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:49:34.395 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:49:34.396 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 5.5748ms
[2025-12-02 16:49:34.396 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:49:34.396 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 6.1929ms
[2025-12-02 16:49:34.405 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:49:34.410 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:49:34.410 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:49:34.410 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:49:34.411 +02:00  INF]  Executed DbCommand (20ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:49:34.415 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:49:34.417 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:49:34.418 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:49:34.418 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:49:34.418 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 7.4597ms
[2025-12-02 16:49:34.418 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:49:34.419 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 16.9534ms
[2025-12-02 16:49:34.424 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:49:34.425 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:49:34.426 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:49:34.427 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:49:34.428 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:49:34.431 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:49:34.434 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:49:34.436 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:49:34.436 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:49:34.438 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 47.4743ms
[2025-12-02 16:49:34.438 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:49:34.438 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7892 application/json; charset=utf-8 48.0025ms
[2025-12-02 16:51:14.486 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:51:14.486 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.486 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.4948ms
[2025-12-02 16:51:14.486 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:51:14.486 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.486 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.215ms
[2025-12-02 16:51:14.487 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:51:14.488 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.488 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 1.0213ms
[2025-12-02 16:51:14.488 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:51:14.494 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:51:14.494 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.494 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.494 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.1676ms
[2025-12-02 16:51:14.494 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 5.7068ms
[2025-12-02 16:51:14.494 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:51:14.494 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.494 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:51:14.495 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:51:14.500 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:51:14.501 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:51:14.501 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:51:14.501 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 6.5596ms
[2025-12-02 16:51:14.501 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:51:14.501 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.501 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 7.1229ms
[2025-12-02 16:51:14.502 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:51:14.502 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:51:14.515 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:51:14.526 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:51:14.527 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.528 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:51:14.528 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:51:14.533 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:51:14.533 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.533 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:51:14.533 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:51:14.534 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 117
[2025-12-02 16:51:14.534 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:14.535 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:51:14.535 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:51:14.535 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:51:14.537 +02:00  INF]  Executed DbCommand (21ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:51:14.540 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:51:14.542 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:51:14.542 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 8.6806ms
[2025-12-02 16:51:14.542 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:51:14.542 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 9.3463ms
[2025-12-02 16:51:14.550 +02:00  INF]  Executed DbCommand (16ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:51:14.553 +02:00  INF]  Executed DbCommand (11ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:51:14.554 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:51:14.554 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 26.2224ms
[2025-12-02 16:51:14.554 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:51:14.555 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:51:14.555 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 52.9957ms
[2025-12-02 16:51:14.555 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:51:14.555 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 28.4482ms
[2025-12-02 16:51:14.555 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:51:14.558 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 56.496ms
[2025-12-02 16:51:14.563 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:14.569 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:14.574 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:14.575 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:14.577 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:14.578 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:14.579 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:14.580 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:14.581 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:14.581 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:14.582 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:51:14.582 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 47.0469ms
[2025-12-02 16:51:14.582 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:51:14.583 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 7892 application/json; charset=utf-8 48.8103ms
[2025-12-02 16:51:31.353 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 16:51:31.354 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:51:31.354 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:31.354 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:31.354 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.5659ms
[2025-12-02 16:51:31.354 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.211ms
[2025-12-02 16:51:31.357 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:51:31.357 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:31.357 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:51:31.358 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:51:31.358 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:51:31.358 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:51:31.359 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:51:31.359 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:51:31.367 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:51:31.367 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:51:31.367 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 8.6919ms
[2025-12-02 16:51:31.367 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:51:31.367 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 10.2988ms
[2025-12-02 16:51:31.371 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:51:31.379 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.380 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.382 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.387 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.390 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.391 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.392 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.394 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.396 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.397 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.400 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.402 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.404 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.405 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.406 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.406 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.407 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.407 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.408 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.408 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.408 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.409 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.410 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.410 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.411 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.412 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.412 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.412 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.413 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.413 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.413 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.414 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.415 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.419 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.420 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.421 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.421 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.422 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.422 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.422 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.423 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.423 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.424 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.425 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.426 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.426 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.426 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.427 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.427 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.428 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.428 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.429 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.430 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.430 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.431 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.433 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.434 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.435 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.436 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.436 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.437 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.437 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.438 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.439 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.440 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.440 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.440 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.441 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.441 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.442 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.442 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.442 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.443 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.444 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.445 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.445 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.446 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.446 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.446 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.447 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.447 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.448 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.452 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.454 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.454 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.455 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.455 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.456 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.456 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.456 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.457 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.457 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.458 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.459 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.460 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.460 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.460 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.461 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.461 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.461 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.462 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.462 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.463 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.464 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.466 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.468 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.468 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.469 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.469 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.470 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.470 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.471 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.471 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.472 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.473 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.473 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.474 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.474 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.475 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.475 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.475 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.476 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.476 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.477 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.478 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.478 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.479 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.479 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.479 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.480 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.480 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.481 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.484 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.486 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.486 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.487 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.487 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.488 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.488 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.488 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.489 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.489 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.490 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.491 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.491 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.492 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.492 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.492 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.493 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.493 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.494 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.494 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.495 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.496 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.496 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.497 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.497 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.500 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.501 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.502 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.502 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.502 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.503 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.504 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.505 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.505 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.505 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.506 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.506 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.507 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.507 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:51:31.507 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.508 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:51:31.509 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:51:31.510 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.510 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.510 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.511 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:51:31.511 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:51:31.512 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:51:31.512 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:51:31.546 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 188.2263ms
[2025-12-02 16:51:31.546 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:51:31.546 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86265 application/json; charset=utf-8 188.6681ms
[2025-12-02 16:52:21.385 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - null null
[2025-12-02 16:52:21.385 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:21.385 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetClientsReviews - 204 null null 0.3758ms
[2025-12-02 16:52:21.393 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - null null
[2025-12-02 16:52:21.393 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:21.393 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/CalculateBookingPrice - 204 null null 0.2228ms
[2025-12-02 16:52:21.393 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - null null
[2025-12-02 16:52:21.393 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:21.394 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripDetails - 204 null null 0.1499ms
[2025-12-02 16:52:21.396 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - null null
[2025-12-02 16:52:21.398 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - application/json 55
[2025-12-02 16:52:21.398 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:21.398 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:21.398 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetPickupsForTrip - 204 null null 2.3922ms
[2025-12-02 16:52:21.398 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:52:21.398 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - application/json 93
[2025-12-02 16:52:21.399 +02:00  INF]  Route matched with {action = "GetClientsReviews", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsReviews(ExcursionApp.Data.Models.trips.ClientsReviewsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:21.399 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:21.399 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:52:21.399 +02:00  INF]  Route matched with {action = "CalculateBookingPrice", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CalculateBookingPrice(ExcursionApp.Data.Models.Bookings.CalculateBookingPriceReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:21.399 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - application/json 117
[2025-12-02 16:52:21.399 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:21.399 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:52:21.400 +02:00  INF]  Route matched with {action = "GetTripDetails", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripDetails(ExcursionApp.Data.Models.trips.TripDetailsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:21.407 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__8__locals1_req_trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.active, t.created_at, t.created_by, t.destination_id, t.is_comm_soon, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.transfer_category_id, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_duration, t.trip_order, t.trip_type, t.updated_at
FROM trip_main AS t
WHERE t.id = @__8__locals1_req_trip_id_0
LIMIT 2
[2025-12-02 16:52:21.410 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__ToLower_0='?', @__req_trip_id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__ToLower_0 AND t.trip_id = @__req_trip_id_1 AND (t.trip_type = t.trip_type OR t.trip_type IS NULL)
[2025-12-02 16:52:21.410 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:52:21.411 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__8__locals2_trip_id_0='?' (DbType = Int64), @__ToLower_1='?', @__capacity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.child_price, t.created_at, t.created_by, t.currency_code, t.notes, t.pax_from, t.pax_to, t.pricing_type, t.trip_id, t.trip_origin_price, t.trip_sale_price, t.updated_at
FROM trip_prices AS t
WHERE t.trip_id = @__8__locals2_trip_id_0 AND lower(t.currency_code) = @__ToLower_1 AND t.pax_from <= @__capacity_2 AND (t.pax_to >= @__capacity_2 OR t.pax_to = 0)
LIMIT 2
[2025-12-02 16:52:21.411 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.Bookings.Client.BookingPrice'.
[2025-12-02 16:52:21.411 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp) in 12.4121ms
[2025-12-02 16:52:21.411 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.CalculateBookingPrice (ExcursionApp)'
[2025-12-02 16:52:21.411 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:21.411 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/CalculateBookingPrice - 200 97 application/json; charset=utf-8 12.869ms
[2025-12-02 16:52:21.412 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
[2025-12-02 16:52:21.412 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - application/json 44
[2025-12-02 16:52:21.412 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:21.412 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:52:21.412 +02:00  INF]  Route matched with {action = "GetPickupsForTrip", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPickupsForTrip(ExcursionApp.Data.Models.trips.PickupsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:21.412 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:21.414 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.trip_id, t.client_id, t.entry_date, t.id, t.review_description, t.review_rate, t.review_title, t.trip_type, t.client_name
FROM tbl_reviews AS t
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
LIMIT @__p_3 OFFSET @__p_2
[2025-12-02 16:52:21.414 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:21.415 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.ClientsReviewsResponse'.
[2025-12-02 16:52:21.415 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp) in 16.3109ms
[2025-12-02 16:52:21.415 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetClientsReviews (ExcursionApp)'
[2025-12-02 16:52:21.415 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_2='?', @__req_trip_id_0='?' (DbType = Int64), @__req_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id::numeric AS trip_pickup_id, t1.lang_code, t."order", t.pickup_code, t.pickup_default_name, t1.pickup_description, t1.pickup_name, t.trip_id, t.trip_type, t.duration, t.pickup_lat, t.pickup_long
FROM trip_pickups_main AS t
INNER JOIN (
    SELECT t0.lang_code, t0.pickup_description, t0.pickup_name, t0.trip_pickup_id
    FROM trip_pickups_translations AS t0
    WHERE lower(t0.lang_code) = @__ToLower_2
) AS t1 ON t.id = t1.trip_pickup_id
WHERE t.trip_id = @__req_trip_id_0 AND t.trip_type = @__req_trip_type_1
ORDER BY t."order"
[2025-12-02 16:52:21.416 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetClientsReviews - 200 56 application/json; charset=utf-8 17.5165ms
[2025-12-02 16:52:21.416 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:21.416 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsPickupResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:21.416 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp) in 4.1359ms
[2025-12-02 16:52:21.416 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetPickupsForTrip (ExcursionApp)'
[2025-12-02 16:52:21.416 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetPickupsForTrip - 200 2 application/json; charset=utf-8 4.4857ms
[2025-12-02 16:52:21.417 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:21.418 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:21.419 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:21.420 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:21.421 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:21.422 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:21.422 +02:00  INF]  Executing OkObjectResult, writing value of type 'ExcursionApp.Data.Models.trips.TripsAll'.
[2025-12-02 16:52:21.424 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp) in 24.2212ms
[2025-12-02 16:52:21.424 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripDetails (ExcursionApp)'
[2025-12-02 16:52:21.424 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripDetails - 200 15022 application/json; charset=utf-8 25.1574ms
[2025-12-02 16:52:33.116 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 16:52:33.116 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:33.117 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.5246ms
[2025-12-02 16:52:33.117 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:52:33.117 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:33.117 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.1833ms
[2025-12-02 16:52:33.117 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:52:33.117 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:33.118 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 1.0047ms
[2025-12-02 16:52:33.123 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:52:33.123 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:52:33.123 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:33.123 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:52:33.123 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:33.125 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:33.125 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:52:33.125 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:52:33.129 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:52:33.129 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:33.130 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:52:33.130 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 6.271ms
[2025-12-02 16:52:33.132 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:52:33.132 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 8.644ms
[2025-12-02 16:52:33.136 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:33.138 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 12.8497ms
[2025-12-02 16:52:33.138 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:52:33.140 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:52:33.140 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 17.3706ms
[2025-12-02 16:52:33.141 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:33.141 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:52:33.141 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:33.157 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:52:33.168 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.169 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.175 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.176 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.177 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.178 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.179 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.180 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.182 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.183 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.184 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.186 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.188 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.191 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.192 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.193 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.194 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.195 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.196 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.197 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.200 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.201 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.203 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.205 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.206 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.207 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.208 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.209 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.210 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.210 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.211 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.212 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.212 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.213 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.216 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.217 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.218 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.219 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.219 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.220 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.220 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.220 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.221 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.222 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.223 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.223 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.223 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.224 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.224 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.224 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.225 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.225 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.226 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.227 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.227 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.228 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.228 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.229 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.229 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.229 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.230 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.230 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.233 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.234 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.235 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.236 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.236 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.237 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.237 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.238 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.238 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.238 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.239 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.240 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.241 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.241 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.241 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.242 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.242 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.243 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.243 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.243 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.244 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.245 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.246 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.246 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.246 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.247 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.248 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.250 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.251 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.252 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.253 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.254 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.254 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.255 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.255 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.255 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.256 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.256 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.256 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.257 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.258 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.258 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.259 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.260 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.260 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.260 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.261 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.261 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.262 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.262 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.263 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.263 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.266 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.267 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.268 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.268 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.269 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.269 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.270 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.270 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.271 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.272 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.273 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.273 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.274 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.274 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.274 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.275 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.275 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.276 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.277 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.278 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.279 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.279 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.280 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.280 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.281 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.283 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.284 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.285 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.286 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.286 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.287 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.287 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.288 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.288 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.288 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.289 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.289 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.290 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.290 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.291 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.292 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.292 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.293 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.293 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.294 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.294 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.294 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.295 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.295 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.296 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.297 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.300 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.300 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.301 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.301 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.302 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.302 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:33.302 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.303 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:33.304 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:33.305 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.305 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.306 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.306 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:33.306 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:33.307 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:33.307 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:33.336 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 194.696ms
[2025-12-02 16:52:33.336 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:52:33.336 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86265 application/json; charset=utf-8 198.3165ms
[2025-12-02 16:52:38.179 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripCategories - null null
[2025-12-02 16:52:38.179 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:52:38.180 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-12-02 16:52:38.180 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:38.180 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:38.180 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.2973ms
[2025-12-02 16:52:38.180 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:38.180 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripCategories - 204 null null 0.2747ms
[2025-12-02 16:52:38.180 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-12-02 16:52:38.180 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:38.180 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.2199ms
[2025-12-02 16:52:38.181 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 1.0986ms
[2025-12-02 16:52:38.183 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripCategories - application/json 2
[2025-12-02 16:52:38.184 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 204
[2025-12-02 16:52:38.184 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:38.184 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:52:38.184 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:38.185 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:38.185 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripCategories (ExcursionApp)'
[2025-12-02 16:52:38.192 +02:00  INF]  Route matched with {action = "GetTripCategories", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripCategories() on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:38.196 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 204
[2025-12-02 16:52:38.196 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:52:38.196 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:38.196 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:38.196 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:52:38.196 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:52:38.196 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:38.196 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:38.200 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:52:38.200 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:38.200 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 3.6144ms
[2025-12-02 16:52:38.200 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:52:38.200 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 3.8851ms
[2025-12-02 16:52:38.205 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.type_code, t.type_name
FROM trip_category AS t
[2025-12-02 16:52:38.217 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__langCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND (t.show_in_top = t.show_in_top OR t.show_in_top IS NULL) AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:52:38.219 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__langCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND (t.show_in_top = t.show_in_top OR t.show_in_top IS NULL) AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:52:38.220 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.220 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.221 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.221 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.223 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.223 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.224 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.225 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.225 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.226 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.226 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.227 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.228 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.229 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.trip_category, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:38.229 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.231 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.232 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.232 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripCategories (ExcursionApp) in 39.9125ms
[2025-12-02 16:52:38.232 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripCategories (ExcursionApp)'
[2025-12-02 16:52:38.232 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripCategories - 200 148 application/json; charset=utf-8 48.969ms
[2025-12-02 16:52:38.233 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.233 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.234 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.234 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.235 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.235 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.235 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.235 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.236 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.236 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.236 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.237 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.237 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.238 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.238 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.239 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.239 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.240 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.240 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.241 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.241 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.242 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.242 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.242 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.242 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.243 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.243 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.243 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.243 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.244 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.245 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.245 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.246 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.246 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.246 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.247 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.247 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.248 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.248 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.248 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.249 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.249 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.249 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.249 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.249 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.250 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.250 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.250 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.251 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.251 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.252 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.252 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.253 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.253 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.254 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.254 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.254 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.254 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.255 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.255 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.255 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.255 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.256 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.256 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.256 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.256 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.257 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.257 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.258 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.258 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.259 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.259 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.260 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.260 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.260 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.260 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.261 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.261 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.261 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.262 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.262 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.262 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.262 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.263 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.263 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.264 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.264 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.265 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.266 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.266 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.266 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.267 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.267 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.267 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.267 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.268 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.268 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.268 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.268 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.269 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.269 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.269 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.269 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.270 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.270 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.272 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.272 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.273 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.274 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.274 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.275 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.275 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.275 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.276 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.276 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.276 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.277 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.277 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.278 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.278 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.279 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.279 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.280 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.280 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.281 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.281 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.282 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.282 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.283 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.283 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.283 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.283 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.283 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.283 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.284 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.284 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.284 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.284 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.285 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.285 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.286 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.286 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.287 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.288 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.288 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.289 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.289 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.289 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.289 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.290 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.290 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.290 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.290 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.291 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.291 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.292 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.293 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.295 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.299 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.303 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.303 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.304 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.304 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.305 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.305 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.306 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.306 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.307 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.307 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.308 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.309 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.308 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.310 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.311 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.313 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.313 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.314 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.314 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.316 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.316 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.317 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.317 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.318 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.318 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.319 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.320 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.320 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.320 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.321 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.321 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.323 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.323 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.325 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.326 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.327 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.327 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.330 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.330 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.331 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.332 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.332 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.333 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.333 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.333 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.334 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.334 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.334 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.334 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.335 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.336 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.336 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.336 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.337 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.338 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.338 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.339 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.339 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.340 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.340 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.340 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.341 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.341 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.341 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.341 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.342 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.342 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.342 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.343 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.344 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.344 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.346 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.348 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.348 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.349 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.349 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.350 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.350 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.350 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.350 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.351 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.351 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.352 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.352 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.352 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.352 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.353 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.354 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.354 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.355 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.356 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.356 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.357 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.357 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.357 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.358 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.358 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.358 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.359 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.359 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.359 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.359 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.360 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.360 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.361 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.362 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.362 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.365 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.366 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.366 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.367 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.367 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.367 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.368 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.368 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.369 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.369 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.369 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.369 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.370 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.370 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.371 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.371 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.371 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.372 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.372 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.373 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.373 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.374 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.376 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.376 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.378 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.380 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.382 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.383 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:38.384 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.385 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:38.386 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.386 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.387 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.387 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.387 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.387 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.388 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.388 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.389 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:38.389 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.389 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:38.389 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:38.390 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:38.390 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:38.441 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 256.8666ms
[2025-12-02 16:52:38.441 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:52:38.441 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 102759 application/json; charset=utf-8 257.7778ms
[2025-12-02 16:52:38.443 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 246.8264ms
[2025-12-02 16:52:38.443 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:52:38.443 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 102759 application/json; charset=utf-8 247.4136ms
[2025-12-02 16:52:41.513 +02:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-12-02 16:52:41.513 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:41.513 +02:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.5599ms
[2025-12-02 16:52:41.514 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 214
[2025-12-02 16:52:41.514 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:41.515 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:52:41.515 +02:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:41.513 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-12-02 16:52:41.515 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:41.515 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:52:41.515 +02:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-12-02 16:52:41.566 +02:00  INF]  Executed DbCommand (49ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-12-02 16:52:41.568 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.569 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.570 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.572 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-12-02 16:52:41.573 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:41.573 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 58.4125ms
[2025-12-02 16:52:41.574 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-12-02 16:52:41.574 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.574 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 60.4071ms
[2025-12-02 16:52:41.574 +02:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-12-02 16:52:41.574 +02:00  INF]  CORS policy execution successful.
[2025-12-02 16:52:41.574 +02:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:52:41.574 +02:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-12-02 16:52:41.582 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-12-02 16:52:41.583 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:41.583 +02:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 8.4129ms
[2025-12-02 16:52:41.583 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-12-02 16:52:41.583 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 8.8655ms
[2025-12-02 16:52:41.583 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.585 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.585 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.586 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.587 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.588 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.589 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.590 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.592 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.603 +02:00  INF]  Executed DbCommand (11ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.604 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.605 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.606 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.606 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.607 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.608 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.608 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.610 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.613 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.614 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.616 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.616 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.617 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.617 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.618 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.618 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.618 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.619 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.620 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.620 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.621 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.622 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.622 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.622 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.623 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.623 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.623 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.624 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.625 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.625 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.628 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.629 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.630 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.631 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.632 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.632 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.632 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.633 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.634 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.634 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.635 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.636 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.636 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.636 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.637 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.637 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.637 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.638 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.638 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.639 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.640 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.640 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.641 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.641 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.642 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.642 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.643 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.644 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.646 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.647 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.648 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.649 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.649 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.650 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.650 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.651 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.651 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.651 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.652 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.653 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.654 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.654 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.655 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.655 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.656 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.656 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.657 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.658 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.661 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.663 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.664 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.665 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.666 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.667 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.667 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.668 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.668 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.668 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.669 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.670 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.671 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.671 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.672 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.672 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.672 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.673 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.673 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.673 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.674 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.675 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.676 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.678 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.679 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.679 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.680 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.680 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.681 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.681 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.682 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.684 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.685 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.686 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.687 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.687 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.688 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.689 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.689 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.690 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.691 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.691 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.692 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.694 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.695 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.696 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.697 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.697 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.698 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.698 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.699 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.700 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.701 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.701 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.701 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.702 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.702 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.703 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.703 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.703 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.704 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.705 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.706 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.706 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.706 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.707 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.707 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.708 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.708 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.708 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.710 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.712 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.713 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.714 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.714 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.715 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.715 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.715 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.716 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__client_id_1='?', @__trip_type_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.client_id, t.created_at, t.trip_id, t.trip_type
FROM trips_wishlist AS t
WHERE t.trip_id = @__trip_id_0 AND t.client_id = @__client_id_1 AND t.trip_type = @__trip_type_2
LIMIT 2
[2025-12-02 16:52:41.716 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.717 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-12-02 16:52:41.718 +02:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-12-02 16:52:41.719 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.719 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.719 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.720 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-12-02 16:52:41.720 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-12-02 16:52:41.720 +02:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-12-02 16:52:41.721 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-12-02 16:52:41.748 +02:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 233.5825ms
[2025-12-02 16:52:41.748 +02:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-12-02 16:52:41.748 +02:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 86265 application/json; charset=utf-8 235.0481ms
