[2025-10-30 10:44:47.426 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-30 10:44:49.198 +03:00  INF]  Now listening on: https://localhost:7252
[2025-10-30 10:44:49.199 +03:00  INF]  Now listening on: http://localhost:5233
[2025-10-30 10:44:49.520 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-30 10:44:49.520 +03:00  INF]  Hosting environment: Development
[2025-10-30 10:44:49.520 +03:00  INF]  Content root path: D:\ExcursionSystem\API\ExcursionApp\ExcursionApp
[2025-10-30 10:44:50.137 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
[2025-10-30 10:44:50.717 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 594.6632ms
[2025-10-30 10:44:50.717 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-30 10:44:50.718 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
[2025-10-30 10:44:50.736 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 18.2034ms
[2025-10-30 10:44:50.833 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 115.8297ms
[2025-10-30 10:44:50.925 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
[2025-10-30 10:44:51.067 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.8654ms
[2025-10-30 10:44:54.967 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 10:44:54.974 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:44:55.079 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:44:55.079 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:44:55.081 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 113.8123ms
[2025-10-30 10:44:55.081 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 114.6566ms
[2025-10-30 10:44:55.089 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:44:55.089 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:44:55.090 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:44:55.090 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:44:58.125 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:44:58.186 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:44:58.908 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/29/2025 2:12:57 PM', Current time (UTC): '10/30/2025 7:44:58 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 10:44:59.249 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/29/2025 2:12:57 PM', Current time (UTC): '10/30/2025 7:44:58 AM'.
[2025-10-30 10:44:59.258 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 10:44:59.269 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 10:44:59.270 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 401 0 null 4181.6828ms
[2025-10-30 10:45:03.704 +03:00  INF]  Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:45:03.944 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:45:04.118 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 5919.6824ms
[2025-10-30 10:45:04.119 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:45:04.131 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 9042.7607ms
[2025-10-30 10:46:05.978 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 10:46:05.989 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:46:05.993 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:05.994 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 16.3608ms
[2025-10-30 10:46:06.000 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:46:06.002 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:06.004 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:06.004 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 17.6933ms
[2025-10-30 10:46:06.005 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:46:06.007 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:46:06.017 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:46:06.017 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:06.058 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/29/2025 2:12:57 PM', Current time (UTC): '10/30/2025 7:46:06 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 10:46:06.060 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/29/2025 2:12:57 PM', Current time (UTC): '10/30/2025 7:46:06 AM'.
[2025-10-30 10:46:06.073 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 10:46:06.075 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 10:46:06.075 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 401 0 null 58.062ms
[2025-10-30 10:46:06.119 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:46:06.122 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:46:06.124 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 114.9547ms
[2025-10-30 10:46:06.124 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:46:06.127 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 126.5317ms
[2025-10-30 10:46:22.448 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 10:46:22.448 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:22.449 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.2312ms
[2025-10-30 10:46:22.451 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:46:22.453 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:22.453 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:46:22.453 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:46:22.453 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:22.453 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:46:22.453 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.6869ms
[2025-10-30 10:46:22.460 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:46:22.460 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:22.461 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/29/2025 2:12:57 PM', Current time (UTC): '10/30/2025 7:46:22 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 10:46:22.461 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/29/2025 2:12:57 PM', Current time (UTC): '10/30/2025 7:46:22 AM'.
[2025-10-30 10:46:22.463 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 10:46:22.463 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 10:46:22.463 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 401 0 null 3.7195ms
[2025-10-30 10:46:22.680 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:46:22.682 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:46:22.682 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 228.9151ms
[2025-10-30 10:46:22.683 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:46:22.683 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 231.7543ms
[2025-10-30 10:46:31.343 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 10:46:31.344 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:31.344 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 2.0689ms
[2025-10-30 10:46:31.352 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:46:31.353 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:46:31.353 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:31.353 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:31.353 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 1.5534ms
[2025-10-30 10:46:31.353 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:46:31.354 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:46:31.356 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:46:31.357 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:31.362 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/29/2025 2:12:57 PM', Current time (UTC): '10/30/2025 7:46:31 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 10:46:31.368 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/29/2025 2:12:57 PM', Current time (UTC): '10/30/2025 7:46:31 AM'.
[2025-10-30 10:46:31.368 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 10:46:31.368 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 10:46:31.369 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 401 0 null 12.4193ms
[2025-10-30 10:46:31.371 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:46:31.372 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:46:31.373 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 18.4585ms
[2025-10-30 10:46:31.374 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:46:31.375 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 21.8355ms
[2025-10-30 10:46:55.084 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 10:46:55.085 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:55.085 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.5984ms
[2025-10-30 10:46:55.087 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:46:55.088 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:55.088 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:46:55.088 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:46:55.090 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:46:55.091 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:46:55.091 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 3.089ms
[2025-10-30 10:46:55.091 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:46:55.091 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 3.8913ms
[2025-10-30 10:46:55.093 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:46:55.093 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:55.093 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.4195ms
[2025-10-30 10:46:55.096 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:46:55.096 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:46:55.126 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:46:55.142 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:46:55.619 +03:00  INF]  Executed DbCommand (40ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:46:55.621 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:46:55.636 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 493.9033ms
[2025-10-30 10:46:55.636 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:46:55.637 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 541.2393ms
[2025-10-30 10:50:06.153 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 10:50:06.154 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:50:06.154 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:50:06.154 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.7694ms
[2025-10-30 10:50:06.155 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:50:06.155 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 1.0896ms
[2025-10-30 10:50:06.161 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:50:06.162 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:50:06.167 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:50:06.168 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:50:06.169 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:50:06.177 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:50:06.189 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:50:06.189 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:50:06.314 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:50:06.318 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:50:06.318 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 150.3321ms
[2025-10-30 10:50:06.318 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:50:06.319 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 157.076ms
[2025-10-30 10:50:06.356 +03:00  INF]  Executed DbCommand (19ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:50:06.356 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:50:06.357 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 167.3439ms
[2025-10-30 10:50:06.357 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:50:06.357 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 187.9425ms
[2025-10-30 10:53:30.082 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:53:30.082 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:53:30.082 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.7156ms
[2025-10-30 10:53:30.085 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:53:30.085 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:53:30.086 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:53:30.086 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:53:30.121 +03:00  INF]  Executed DbCommand (29ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:53:30.121 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:53:30.122 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 35.9017ms
[2025-10-30 10:53:30.122 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:53:30.122 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 37.4816ms
[2025-10-30 10:53:43.150 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:53:43.151 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:53:43.151 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.6892ms
[2025-10-30 10:53:43.153 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:53:43.154 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:53:43.154 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:53:43.154 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:53:43.169 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:53:43.172 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:53:43.177 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 18.5053ms
[2025-10-30 10:53:43.178 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:53:43.182 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 28.7599ms
[2025-10-30 10:53:46.068 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:53:46.069 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:53:46.069 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.9435ms
[2025-10-30 10:53:46.071 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:53:46.071 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:53:46.071 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:53:46.071 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:53:46.077 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:53:46.077 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:53:46.078 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 6.0311ms
[2025-10-30 10:53:46.078 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:53:46.079 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 7.9095ms
[2025-10-30 10:53:51.141 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:53:51.141 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:53:51.142 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.4903ms
[2025-10-30 10:53:51.144 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:53:51.144 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:53:51.145 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:53:51.145 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:53:51.150 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:53:51.151 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:53:51.151 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 5.7095ms
[2025-10-30 10:53:51.151 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:53:51.151 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 7.4441ms
[2025-10-30 10:54:00.141 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:54:00.142 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:00.142 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.4948ms
[2025-10-30 10:54:00.144 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:54:00.144 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:00.144 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:54:00.145 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:54:00.149 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:54:00.150 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:54:00.150 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 5.8109ms
[2025-10-30 10:54:00.150 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:54:00.151 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 7.2378ms
[2025-10-30 10:54:28.609 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 10:54:28.611 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:28.611 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 2.3815ms
[2025-10-30 10:54:28.611 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:54:28.611 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:28.614 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 3.5276ms
[2025-10-30 10:54:28.619 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:54:28.619 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:54:28.620 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:28.620 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:28.620 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:54:28.620 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:54:28.620 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:54:28.620 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:54:28.631 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:54:28.632 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:54:28.632 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:54:28.632 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:54:28.633 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 12.3609ms
[2025-10-30 10:54:28.633 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:54:28.633 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 12.662ms
[2025-10-30 10:54:28.633 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:54:28.633 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 13.5642ms
[2025-10-30 10:54:28.633 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 13.6536ms
[2025-10-30 10:54:31.353 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:54:31.355 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:31.355 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:54:31.356 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:31.356 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:54:31.356 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.2632ms
[2025-10-30 10:54:31.357 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:54:31.358 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:54:31.358 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:31.363 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:54:31.364 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:54:31.364 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:54:31.364 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 7.541ms
[2025-10-30 10:54:31.364 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:54:31.364 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:54:31.365 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.7825ms
[2025-10-30 10:54:31.386 +03:00  INF]  Executed DbCommand (18ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:54:31.397 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:54:31.398 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 33.9622ms
[2025-10-30 10:54:31.399 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:54:31.399 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 41.058ms
[2025-10-30 10:54:58.450 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:54:58.451 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:58.451 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.6729ms
[2025-10-30 10:54:58.458 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:54:58.458 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:54:58.460 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:54:58.460 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:54:58.466 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:54:58.467 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:54:58.467 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 6.9738ms
[2025-10-30 10:54:58.468 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:54:58.468 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 10.4772ms
[2025-10-30 10:55:15.019 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:55:15.019 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:15.019 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.8611ms
[2025-10-30 10:55:15.022 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:55:15.022 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:15.024 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:15.024 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:55:15.132 +03:00  INF]  Executed DbCommand (12ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:55:15.132 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:55:15.132 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 108.0977ms
[2025-10-30 10:55:15.132 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:15.132 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 110.3912ms
[2025-10-30 10:55:20.014 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:55:20.014 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:20.015 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 1.308ms
[2025-10-30 10:55:20.018 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:55:20.019 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:20.021 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:20.021 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:55:20.033 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:55:20.034 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:55:20.035 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 13.9248ms
[2025-10-30 10:55:20.035 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:20.035 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 17.8023ms
[2025-10-30 10:55:40.517 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:55:40.517 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:40.517 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.3027ms
[2025-10-30 10:55:40.520 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:55:40.520 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:40.522 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:40.522 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:55:40.527 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:55:40.528 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:55:40.528 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 6.181ms
[2025-10-30 10:55:40.528 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:40.529 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 8.3799ms
[2025-10-30 10:55:41.872 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 10:55:41.872 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:55:41.872 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:41.872 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:41.872 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.6619ms
[2025-10-30 10:55:41.872 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.4145ms
[2025-10-30 10:55:41.877 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:55:41.878 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:55:41.878 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:41.878 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:41.878 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:55:41.878 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:41.879 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:55:41.878 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:55:41.884 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:55:41.885 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:55:41.885 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 6.5355ms
[2025-10-30 10:55:41.885 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:41.885 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 7.9731ms
[2025-10-30 10:55:41.914 +03:00  INF]  Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:55:41.917 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:55:41.917 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 38.4531ms
[2025-10-30 10:55:41.917 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:55:41.918 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 40.6136ms
[2025-10-30 10:55:56.619 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - null null
[2025-10-30 10:55:56.620 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:56.620 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetBookingSummary - 204 null null 0.553ms
[2025-10-30 10:55:56.626 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - application/json 40
[2025-10-30 10:55:56.627 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:55:56.627 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:56.627 +03:00  INF]  Route matched with {action = "GetBookingWithDetails", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingWithDetails(ExcursionApp.Data.Models.Bookings.BookingReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 10:55:56.636 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__req_lang_code_0='?', @__req_booking_status_id_1='?' (DbType = Int32), @__req_client_id_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.lang_code = @__req_lang_code_0 AND b.booking_status_id = @__req_booking_status_id_1 AND b.client_id = @__req_client_id_2
[2025-10-30 10:55:56.637 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:55:56.637 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp) in 9.489ms
[2025-10-30 10:55:56.637 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetBookingWithDetails (ExcursionApp)'
[2025-10-30 10:55:56.637 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetBookingSummary - 200 2 application/json; charset=utf-8 10.9661ms
[2025-10-30 10:56:05.329 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 10:56:05.329 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 10:56:05.330 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:05.330 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:05.330 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.4849ms
[2025-10-30 10:56:05.330 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.7948ms
[2025-10-30 10:56:05.333 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 10:56:05.343 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:05.343 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 10:56:05.357 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:05.358 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 10:56:05.358 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:05.359 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:05.383 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:05.649 +03:00  INF]  Executed DbCommand (18ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 10:56:05.747 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:05.832 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:05.844 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 10:56:05.849 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:05.858 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:05.871 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 513.8922ms
[2025-10-30 10:56:05.872 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 10:56:05.872 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 539.1127ms
[2025-10-30 10:56:05.884 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:05.907 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:05.940 +03:00  INF]  Executed DbCommand (12ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:05.948 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:05.960 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:05.981 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:05.985 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:05.993 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:05.998 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.001 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.003 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.005 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.008 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.010 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.012 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.114 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.123 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.126 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.128 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.130 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.132 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.133 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.135 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.136 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.138 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.140 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.143 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.145 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.146 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.148 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.150 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.151 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.153 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.155 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.158 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.161 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.163 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.164 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.166 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.167 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.169 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.170 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.172 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.174 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.176 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.178 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.180 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.181 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.183 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.184 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.185 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.187 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.189 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.192 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.194 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.196 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.197 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.198 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.200 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.201 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.202 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.205 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.208 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.209 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.211 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.212 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.214 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.215 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.217 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.219 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.223 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.226 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.228 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.230 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.232 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.233 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.235 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.237 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.239 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.242 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.246 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.248 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.251 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.253 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.255 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.257 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.259 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.261 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.264 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.267 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.269 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.271 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.272 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.273 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.275 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.276 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.278 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.280 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.283 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.285 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.286 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.288 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.289 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.291 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.292 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.293 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.296 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.299 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.301 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.302 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.304 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.306 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.308 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.310 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.312 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.316 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.320 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.324 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.325 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.326 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.328 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.329 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.330 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.332 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.336 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.340 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.342 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.344 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.345 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.347 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.349 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.351 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.354 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.357 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.359 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.361 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.363 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.365 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.366 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.367 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.370 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.372 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.374 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.377 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.379 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.381 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.382 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.383 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.385 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.386 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.388 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.391 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:06.394 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:06.396 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.397 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.398 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.399 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:06.401 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:06.402 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:06.403 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:06.516 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 1133.3948ms
[2025-10-30 10:56:06.516 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:06.516 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 1158.7205ms
[2025-10-30 10:56:34.324 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 10:56:34.324 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 10:56:34.324 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripCategories - null null
[2025-10-30 10:56:34.324 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 10:56:34.324 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:34.324 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:34.324 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:34.324 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripCategories - 204 null null 0.8978ms
[2025-10-30 10:56:34.324 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:34.324 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 1.0089ms
[2025-10-30 10:56:34.325 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.9218ms
[2025-10-30 10:56:34.324 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 1.0061ms
[2025-10-30 10:56:34.329 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripCategories - application/json 17
[2025-10-30 10:56:34.329 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:34.330 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripCategories (ExcursionApp)'
[2025-10-30 10:56:34.332 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 10:56:34.333 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:34.333 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 10:56:34.333 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:34.334 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 204
[2025-10-30 10:56:34.334 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:34.335 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:34.335 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:34.338 +03:00  INF]  Route matched with {action = "GetTripCategories", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripCategories() on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:34.339 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 204
[2025-10-30 10:56:34.339 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:34.339 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:34.339 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:34.362 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.type_code, t.type_name
FROM trip_category AS t
[2025-10-30 10:56:34.404 +03:00  INF]  Executed DbCommand (21ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 10:56:34.412 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:34.413 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 80.2531ms
[2025-10-30 10:56:34.413 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 10:56:34.414 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 81.4088ms
[2025-10-30 10:56:34.434 +03:00  INF]  Executed DbCommand (21ms) [Parameters=[@__langCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND (t.show_in_top = t.show_in_top OR t.show_in_top IS NULL) AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 10:56:34.439 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.442 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.445 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.446 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.448 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.449 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.450 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.452 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.454 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.456 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.trip_category, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:34.456 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.458 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.461 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripCategories (ExcursionApp) in 122.098ms
[2025-10-30 10:56:34.461 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripCategories (ExcursionApp)'
[2025-10-30 10:56:34.461 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.461 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripCategories - 200 148 application/json; charset=utf-8 131.6616ms
[2025-10-30 10:56:34.462 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.464 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.465 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.466 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.467 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.468 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.470 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.474 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.480 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.481 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.483 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.484 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.485 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.486 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.488 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.491 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.493 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.496 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.497 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.499 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.500 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.501 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.502 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.503 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.506 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.508 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.510 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.512 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.512 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.513 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.514 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.515 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.516 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.517 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.520 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.523 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.525 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.526 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.527 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.528 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.530 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.531 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.532 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.533 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.535 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.537 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.539 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.541 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.542 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.543 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.544 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.546 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.547 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.549 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.550 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.551 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.552 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.553 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.555 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.557 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.559 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.561 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.562 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.563 +03:00  INF]  Executed DbCommand (18ms) [Parameters=[@__langCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND (t.show_in_top = t.show_in_top OR t.show_in_top IS NULL) AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 10:56:34.564 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.565 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.566 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.567 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.567 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.569 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.571 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.572 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.574 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.575 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.576 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.577 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.577 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.578 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.579 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.580 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.580 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.581 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.581 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.582 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.582 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.582 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.583 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.583 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.584 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.585 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.585 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.587 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.590 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.591 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.592 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.593 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.594 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.594 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.595 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.595 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.597 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.597 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.598 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.598 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.599 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.599 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.600 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.601 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.601 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.602 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.602 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.603 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.604 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.605 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.606 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.607 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.608 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.608 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.609 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.609 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.610 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.611 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.611 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.612 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.613 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.614 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.614 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.615 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.615 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.615 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.615 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.617 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.618 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.618 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.620 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.621 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.622 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.623 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.625 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.625 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.626 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.628 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.628 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.629 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.629 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.630 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.630 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.631 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.631 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.632 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.633 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.633 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.635 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.637 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.638 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.640 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.649 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.654 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.656 +03:00  INF]  Executed DbCommand (15ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.658 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.659 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.659 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.660 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.661 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.662 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.662 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.663 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.663 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.664 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.665 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.665 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.668 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.675 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.675 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.681 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.681 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.682 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.683 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.683 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.683 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.684 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.684 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.684 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.685 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.685 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.688 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.688 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.689 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.689 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.691 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.691 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.692 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.692 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.695 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.695 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.696 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.696 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.696 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.696 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.697 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.697 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.698 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.698 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.698 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.698 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.699 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.699 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.701 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.701 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.705 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.705 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.706 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.706 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.707 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.707 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.708 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.708 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.708 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.708 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.709 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.709 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.710 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.710 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.711 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.711 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.712 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.712 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.714 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.714 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.716 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.716 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.717 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.717 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.718 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.718 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.719 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.719 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.721 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.721 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.722 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.722 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.722 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:34.723 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.725 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.727 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.729 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.730 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.731 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.732 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.733 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.734 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.735 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.740 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.741 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.743 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.744 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.744 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.745 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.746 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.747 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.748 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.749 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.751 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.752 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.754 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.756 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.757 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.758 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.759 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.760 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.764 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.766 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.768 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.770 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.772 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.773 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.774 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 439.0116ms
[2025-10-30 10:56:34.774 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:34.774 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 102344 application/json; charset=utf-8 439.8963ms
[2025-10-30 10:56:34.774 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.775 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.777 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.779 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.780 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.782 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.783 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.784 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.785 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.787 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.788 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.789 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.791 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.792 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.793 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.794 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.795 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.795 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.796 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.797 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.798 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.800 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.802 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.804 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.805 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.805 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.806 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.807 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.808 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.809 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.810 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:34.812 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:34.813 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.814 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.815 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.816 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:34.817 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:34.818 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:34.819 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:34.864 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 524.9423ms
[2025-10-30 10:56:34.864 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:34.864 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 102344 application/json; charset=utf-8 525.9909ms
[2025-10-30 10:56:41.785 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 10:56:41.785 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.785 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.2719ms
[2025-10-30 10:56:41.785 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripCategories - null null
[2025-10-30 10:56:41.785 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.785 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripCategories - 204 null null 0.1464ms
[2025-10-30 10:56:41.785 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 10:56:41.785 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.785 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.1195ms
[2025-10-30 10:56:41.785 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 10:56:41.785 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.785 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.1409ms
[2025-10-30 10:56:41.786 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 10:56:41.786 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.786 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.2501ms
[2025-10-30 10:56:41.789 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 204
[2025-10-30 10:56:41.789 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripCategories - application/json 17
[2025-10-30 10:56:41.790 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 10:56:41.790 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.790 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.790 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 10:56:41.790 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:41.790 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripCategories (ExcursionApp)'
[2025-10-30 10:56:41.790 +03:00  INF]  Route matched with {action = "GetTripCategories", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripCategories() on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:41.793 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.793 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 204
[2025-10-30 10:56:41.793 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 10:56:41.793 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.793 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:56:41.794 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:41.794 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:56:41.794 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:41.794 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 10:56:41.797 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.type_code, t.type_name
FROM trip_category AS t
[2025-10-30 10:56:41.798 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.trip_category, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:41.799 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripCategories (ExcursionApp) in 8.5726ms
[2025-10-30 10:56:41.806 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 10:56:41.806 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripCategories (ExcursionApp)'
[2025-10-30 10:56:41.807 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:41.807 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripCategories - 200 148 application/json; charset=utf-8 17.2742ms
[2025-10-30 10:56:41.807 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 12.2592ms
[2025-10-30 10:56:41.807 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 10:56:41.807 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 14.1294ms
[2025-10-30 10:56:41.809 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__langCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND (t.show_in_top = t.show_in_top OR t.show_in_top IS NULL) AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 10:56:41.811 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.813 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 10:56:41.814 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:41.814 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 24.1654ms
[2025-10-30 10:56:41.814 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 10:56:41.814 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 24.9892ms
[2025-10-30 10:56:41.817 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.819 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:41.820 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:56:41.824 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.834 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.836 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.838 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.839 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.841 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.849 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.851 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.854 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.870 +03:00  INF]  Executed DbCommand (15ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.870 +03:00  INF]  Executed DbCommand (34ms) [Parameters=[@__langCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND (t.show_in_top = t.show_in_top OR t.show_in_top IS NULL) AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 10:56:41.877 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.877 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.878 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.879 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.880 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.880 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.881 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.884 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.885 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.885 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.886 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.887 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.888 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.889 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.892 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.892 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.893 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.893 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.894 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.894 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.895 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.895 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.896 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.897 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.897 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.901 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.903 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.903 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.904 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.905 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.906 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.907 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.908 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.908 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.909 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.911 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.912 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.914 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.915 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.918 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.921 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.926 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.926 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.927 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.927 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.928 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.928 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.929 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.929 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.929 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.930 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.930 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.931 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.934 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.935 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.936 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.937 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.940 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.940 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.941 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.941 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.942 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.942 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.943 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.943 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.944 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.944 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.944 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.944 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.945 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.946 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.946 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.947 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.948 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.953 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.954 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.955 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.956 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.956 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.956 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.956 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.957 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.957 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.958 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.958 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.959 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.959 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.960 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.961 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.961 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.962 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.963 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.964 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.964 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.968 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.970 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.971 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.972 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.972 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.973 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.973 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.974 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.974 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.974 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.975 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.976 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.977 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.977 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.978 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.978 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.978 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.979 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.979 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.980 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.980 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.981 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.986 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.986 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.987 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.988 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.988 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.988 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.989 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.990 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.990 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.991 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.991 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.992 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.992 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.993 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:41.993 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.994 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.994 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.994 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:41.996 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.996 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:41.997 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:41.998 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:41.998 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.000 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.002 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.002 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.003 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.003 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.004 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.004 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.005 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.005 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.006 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.007 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.007 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.010 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.010 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.011 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.011 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.012 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.012 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.013 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.014 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.015 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.016 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.017 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.019 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.020 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.021 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.022 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.022 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.023 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.024 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.025 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.026 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.027 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.027 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.027 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.028 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.028 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.029 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.030 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.031 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.031 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.032 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.034 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.034 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.035 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.036 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.036 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.037 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.038 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.039 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.040 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.040 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.041 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.042 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.042 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.043 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.046 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.048 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.048 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.051 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.053 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.053 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.056 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.056 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.058 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.058 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.058 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.058 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.059 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.059 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.060 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.060 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.061 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.061 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.062 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.062 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.063 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.064 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.066 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.066 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.067 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.067 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.068 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.068 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.069 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.069 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.070 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.070 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.071 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.071 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.072 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.072 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.073 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.073 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.073 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.075 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.076 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.076 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.077 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.078 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.079 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.079 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.080 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.080 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.081 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.081 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.082 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.083 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.084 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.084 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.085 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.086 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.087 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.087 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.088 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.088 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.089 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.089 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.090 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.091 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.091 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.092 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.092 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.093 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.093 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.094 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.095 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.095 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.096 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.096 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.097 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.097 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.098 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.098 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.099 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.101 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.101 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.102 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.103 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.104 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.104 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.105 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.105 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.105 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.106 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.106 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.107 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.108 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.109 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.109 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:42.109 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.110 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.111 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.112 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.113 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.114 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.115 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.118 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.120 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.121 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.122 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.123 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.124 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.125 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.126 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.127 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.129 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:56:42.162 +03:00  INF]  Executed DbCommand (33ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:56:42.172 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.174 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.175 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.177 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:56:42.179 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:56:42.186 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:56:42.187 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:56:42.202 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 407.8935ms
[2025-10-30 10:56:42.203 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:42.203 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 102344 application/json; charset=utf-8 410.0547ms
[2025-10-30 10:56:42.243 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 418.8905ms
[2025-10-30 10:56:42.243 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:56:42.244 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 102344 application/json; charset=utf-8 454.1513ms
[2025-10-30 10:59:39.433 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 10:59:39.433 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 10:59:39.433 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:59:39.433 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:59:39.434 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.9116ms
[2025-10-30 10:59:39.434 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.222ms
[2025-10-30 10:59:39.437 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 10:59:39.438 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:59:39.439 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 10:59:39.439 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:59:39.458 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 10:59:39.458 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 10:59:39.458 +03:00  INF]  CORS policy execution successful.
[2025-10-30 10:59:39.458 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:59:39.458 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 10:59:39.459 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:59:39.459 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 20.0031ms
[2025-10-30 10:59:39.459 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 10:59:39.459 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 21.9003ms
[2025-10-30 10:59:39.473 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 10:59:39.475 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.486 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.499 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.501 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.504 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.506 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.508 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.509 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.509 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.510 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.512 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.513 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.515 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.515 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.516 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.516 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.517 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.517 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.520 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.523 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.524 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.526 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.526 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.527 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.528 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.528 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.529 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.530 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.531 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.533 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.539 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.541 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.542 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.543 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.544 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.545 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.545 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.547 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.548 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.549 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.550 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.552 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.556 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.558 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.559 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.560 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.562 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.564 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.566 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.566 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.567 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.569 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.572 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.573 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.574 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.576 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.578 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.579 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.580 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.581 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.581 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.582 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.583 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.584 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.589 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.591 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.593 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.593 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.594 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.595 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.595 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.596 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.597 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.598 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.602 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.606 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.607 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.608 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.609 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.610 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.611 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.612 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.614 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.617 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.624 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.626 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.627 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.628 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.630 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.632 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.633 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.638 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.641 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.643 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.644 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.646 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.647 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.648 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.649 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.650 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.653 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.658 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.659 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.660 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.661 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.662 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.663 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.664 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.665 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.667 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.673 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.676 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.677 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.678 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.680 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.681 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.682 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.683 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.689 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.692 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.694 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.696 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.697 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.699 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.702 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.704 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.706 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.709 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.711 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.713 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.714 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.715 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.716 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.717 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.717 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.719 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.722 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.724 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.725 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.725 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.726 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.726 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.727 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.728 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.728 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.730 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.731 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.733 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.734 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.737 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.740 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.742 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.744 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.745 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.748 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 10:59:39.756 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 10:59:39.759 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.761 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.762 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.763 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 10:59:39.764 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 10:59:39.765 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 10:59:39.765 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 10:59:39.862 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 403.254ms
[2025-10-30 10:59:39.862 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 10:59:39.863 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 404.5987ms
[2025-10-30 13:03:50.572 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:03:50.572 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:03:50.572 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:03:50.573 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:03:50.573 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:03:50.573 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:03:50.573 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 1.2856ms
[2025-10-30 13:03:50.573 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 1.1469ms
[2025-10-30 13:03:50.573 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.359ms
[2025-10-30 13:03:50.577 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:03:50.577 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:03:50.577 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:03:50.577 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:03:50.577 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:03:50.577 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:03:50.577 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:03:50.577 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:03:50.577 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:03:50.577 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:03:50.578 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:03:50.578 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:03:50.729 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:03:50.729 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:03:50.729 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 151.7727ms
[2025-10-30 13:03:50.729 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:03:50.729 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 152.9798ms
[2025-10-30 13:03:50.788 +03:00  INF]  Executed DbCommand (18ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:03:50.792 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.794 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:03:50.795 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:03:50.795 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 217.444ms
[2025-10-30 13:03:50.795 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:03:50.796 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 219.8057ms
[2025-10-30 13:03:50.800 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.805 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.809 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.811 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.813 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.814 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.816 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.818 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.818 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.822 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.824 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.826 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.827 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.827 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.828 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.829 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.829 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.830 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.832 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.833 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.835 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.836 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.837 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.839 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.840 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.840 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.841 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.843 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.845 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.847 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.848 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.849 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.850 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.851 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.853 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.855 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.857 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.860 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.865 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.869 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.873 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.875 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.876 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.878 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.880 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.883 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.885 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.890 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.891 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.892 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.893 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.894 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.895 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.896 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.897 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.899 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.900 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.900 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.901 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.901 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.902 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.903 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.904 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.905 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.906 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.908 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.908 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.909 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.910 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.910 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.911 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.911 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.912 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.913 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.914 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.915 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.915 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.916 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.916 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.917 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.917 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.919 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.920 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.921 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.922 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.922 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.923 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.923 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.924 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.924 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.926 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.927 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.928 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.929 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.929 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.930 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.931 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.931 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.932 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.933 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.934 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.935 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.937 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.938 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.938 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.939 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.939 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.940 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.941 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.942 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.944 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.944 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.945 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.945 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.946 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.946 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.947 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.948 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.949 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.951 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.951 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.952 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.954 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.955 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.956 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.956 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.958 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.960 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.961 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.962 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.963 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.964 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.965 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.966 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.967 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.969 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.972 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.974 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.975 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.976 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.977 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.978 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.979 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.981 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.983 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.986 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:50.988 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.989 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.990 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.991 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:50.992 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.993 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:50.994 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:50.997 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:03:50.999 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:03:51.001 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:51.003 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:03:51.004 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:51.006 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:03:51.007 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:03:51.008 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:03:51.008 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:03:51.067 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 489.0968ms
[2025-10-30 13:03:51.067 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:03:51.067 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 490.3515ms
[2025-10-30 13:19:04.679 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-30 13:19:06.709 +03:00  INF]  Now listening on: https://localhost:7252
[2025-10-30 13:19:06.710 +03:00  INF]  Now listening on: http://localhost:5233
[2025-10-30 13:19:07.056 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-30 13:19:07.056 +03:00  INF]  Hosting environment: Development
[2025-10-30 13:19:07.056 +03:00  INF]  Content root path: D:\ExcursionSystem\API\ExcursionApp\ExcursionApp
[2025-10-30 13:19:07.706 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
[2025-10-30 13:19:09.612 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 1924.6553ms
[2025-10-30 13:19:09.739 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-30 13:19:09.862 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
[2025-10-30 13:19:09.863 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 124.4578ms
[2025-10-30 13:19:09.973 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 110.9122ms
[2025-10-30 13:19:10.060 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
[2025-10-30 13:19:10.223 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.5878ms
[2025-10-30 13:19:19.082 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:19:19.082 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:19:19.083 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:19:19.205 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:19:19.206 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:19:19.206 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:19:19.209 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 126.1384ms
[2025-10-30 13:19:19.210 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 127.4105ms
[2025-10-30 13:19:19.210 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 128.0006ms
[2025-10-30 13:19:19.223 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:19:19.225 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:19:19.225 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:19:19.241 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:19:19.247 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:19:19.247 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:19:19.419 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:19:19.419 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:19:19.419 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:19:19.481 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:19:19.481 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:19:19.481 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:19:22.915 +03:00  INF]  Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:19:22.960 +03:00  INF]  Executed DbCommand (127ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:19:22.964 +03:00  INF]  Executed DbCommand (135ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:19:23.037 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:19:23.070 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:19:23.080 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.122 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 3632.3217ms
[2025-10-30 13:19:23.122 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 3632.1095ms
[2025-10-30 13:19:23.122 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:19:23.123 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:19:23.149 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 3923.8513ms
[2025-10-30 13:19:23.141 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 3917.0039ms
[2025-10-30 13:19:23.161 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.193 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.213 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.238 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.285 +03:00  INF]  Executed DbCommand (18ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.300 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.312 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.335 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.343 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.349 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.355 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.358 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.360 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.362 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.365 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.367 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.370 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.490 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.494 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.497 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.499 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.501 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.503 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.504 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.506 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.507 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.509 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.512 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.515 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.517 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.519 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.521 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.522 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.524 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.526 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.527 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.530 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.533 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.535 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.537 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.539 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.540 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.542 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.544 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.546 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.549 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.552 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.554 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.556 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.559 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.563 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.566 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.568 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.571 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.578 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.582 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.584 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.586 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.587 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.590 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.591 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.594 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.597 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.601 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.606 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.609 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.612 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.614 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.616 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.620 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.622 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.624 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.629 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.632 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.634 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.636 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.637 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.639 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.640 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.642 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.644 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.647 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.651 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.653 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.655 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.657 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.659 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.661 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.663 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.666 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.671 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.682 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.687 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.690 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.691 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.693 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.695 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.697 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.699 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.702 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.706 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.708 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.710 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.711 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.713 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.714 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.716 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.718 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.722 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.726 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.728 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.730 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.732 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.734 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.736 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.738 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.740 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.743 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.746 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.748 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.750 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.751 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.753 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.755 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.756 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.758 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.761 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.765 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.767 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.768 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.770 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.772 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.773 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.775 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.778 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.781 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.784 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.786 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.788 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.790 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.791 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.794 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.796 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.798 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.801 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.804 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.806 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.808 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.810 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.812 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.814 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.816 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.819 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.822 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:19:23.827 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:19:23.830 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.833 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.835 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.837 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:19:23.840 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:19:23.843 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:19:23.844 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:19:24.025 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 4542.8975ms
[2025-10-30 13:19:24.026 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:19:24.027 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 4803.2877ms
[2025-10-30 13:22:07.748 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:22:07.748 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:22:07.749 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:22:07.748 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:22:07.749 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:22:07.750 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 2.8477ms
[2025-10-30 13:22:07.750 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 2.6989ms
[2025-10-30 13:22:07.750 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:22:07.751 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 2.9648ms
[2025-10-30 13:22:07.759 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:22:07.759 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:22:07.759 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:22:07.760 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:22:07.760 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:22:07.760 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:22:07.766 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:22:07.766 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:22:07.766 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:22:07.766 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:22:07.766 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:22:07.766 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:22:07.910 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:22:07.910 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:22:07.911 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:22:07.911 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 144.7343ms
[2025-10-30 13:22:07.911 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:22:07.912 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 152.9136ms
[2025-10-30 13:22:07.914 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.915 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:22:07.915 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:22:07.916 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 149.5749ms
[2025-10-30 13:22:07.916 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:22:07.916 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 157.5545ms
[2025-10-30 13:22:07.917 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:07.921 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:07.925 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.927 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.928 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:07.930 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:07.932 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.936 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:07.938 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.941 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:07.944 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:07.947 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.949 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.951 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:07.953 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:07.955 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.956 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:07.958 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.962 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:07.966 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:07.970 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.971 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.972 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:07.973 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:07.974 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.976 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:07.977 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.979 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:07.981 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:07.983 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.984 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.986 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:07.988 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:07.989 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.991 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:07.992 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:07.994 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:07.996 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:07.998 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.000 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.002 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.003 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.005 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.006 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.008 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.011 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.014 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.016 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.019 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.021 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.023 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.026 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.028 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.030 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.036 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.041 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.044 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.045 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.047 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.049 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.050 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.053 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.055 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.059 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.062 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.064 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.066 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.068 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.070 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.072 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.073 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.075 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.078 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.081 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.083 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.086 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.088 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.089 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.091 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.092 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.094 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.097 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.100 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.103 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.105 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.107 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.108 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.110 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.113 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.115 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.119 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.122 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.124 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.126 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.128 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.130 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.131 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.133 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.134 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.138 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.141 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.143 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.145 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.147 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.149 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.152 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.155 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.157 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.161 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.165 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.168 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.170 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.172 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.173 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.175 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.176 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.178 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.181 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.184 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.187 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.189 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.190 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.192 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.193 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.195 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.197 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.199 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.203 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.205 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.206 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.208 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.210 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.211 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.213 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.214 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.217 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.221 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.223 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.225 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.226 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.228 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.229 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.231 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.232 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.235 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.239 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.242 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.244 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.246 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.248 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.250 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.253 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.255 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.260 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:22:08.264 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:22:08.267 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.270 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.272 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.274 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:22:08.276 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:22:08.278 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:22:08.281 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:22:08.347 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 579.8677ms
[2025-10-30 13:22:08.347 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:22:08.347 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 587.9701ms
[2025-10-30 13:23:51.323 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:23:51.323 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:23:51.323 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:23:51.324 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:23:51.324 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:23:51.324 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:23:51.325 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 2.6231ms
[2025-10-30 13:23:51.325 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 1.5885ms
[2025-10-30 13:23:51.325 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 2.2445ms
[2025-10-30 13:23:51.332 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:23:51.332 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:23:51.332 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:23:51.332 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:23:51.332 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:23:51.332 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:23:51.333 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:23:51.333 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:23:51.333 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:23:51.333 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:23:51.333 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:23:51.333 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:23:51.351 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:23:51.351 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:23:51.352 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:23:51.353 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 19.2943ms
[2025-10-30 13:23:51.353 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:23:51.353 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 20.6962ms
[2025-10-30 13:23:51.353 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:23:51.354 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:23:51.355 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.355 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 21.5892ms
[2025-10-30 13:23:51.355 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:23:51.355 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 23.2743ms
[2025-10-30 13:23:51.359 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.364 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.367 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.369 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.371 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.373 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.375 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.377 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.379 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.382 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.385 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.387 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.389 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.390 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.392 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.393 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.395 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.398 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.400 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.404 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.407 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.409 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.411 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.414 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.416 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.418 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.420 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.424 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.426 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.430 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.431 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.433 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.434 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.436 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.438 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.440 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.443 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.446 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.448 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.449 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.450 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.451 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.453 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.455 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.457 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.460 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.463 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.464 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.465 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.466 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.467 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.469 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.470 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.471 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.473 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.475 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.477 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.479 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.480 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.481 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.482 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.483 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.484 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.487 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.489 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.491 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.493 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.495 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.497 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.498 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.500 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.501 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.504 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.506 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.508 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.510 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.511 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.513 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.515 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.517 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.518 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.521 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.525 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.527 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.529 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.531 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.533 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.534 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.536 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.537 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.540 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.543 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.547 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.548 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.550 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.551 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.552 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.554 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.556 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.558 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.561 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.571 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.573 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.574 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.576 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.577 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.579 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.580 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.583 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.586 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.588 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.590 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.591 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.592 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.593 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.595 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.597 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.599 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.601 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.603 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.604 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.606 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.607 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.609 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.610 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.613 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.616 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.618 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.620 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.622 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.623 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.625 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.626 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.628 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.630 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.633 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.638 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.640 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.641 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.643 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.644 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.646 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.647 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.648 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.651 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.653 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.655 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.657 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.658 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.660 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.661 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.662 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.664 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.666 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:23:51.669 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:23:51.671 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.672 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.673 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.674 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:23:51.675 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:23:51.677 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:23:51.677 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:23:51.822 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 489.1636ms
[2025-10-30 13:23:51.823 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:23:51.823 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 490.7619ms
[2025-10-30 13:25:38.291 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:25:38.292 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:25:38.297 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:25:38.297 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:25:38.298 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:25:38.298 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 6.743ms
[2025-10-30 13:25:38.298 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 7.7113ms
[2025-10-30 13:25:38.298 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:25:38.300 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 2.285ms
[2025-10-30 13:25:38.306 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:25:38.307 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:25:38.307 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:25:38.307 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:25:38.307 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:25:38.307 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:25:38.307 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:25:38.307 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:25:38.307 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:25:38.307 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:25:38.307 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:25:38.307 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:25:38.426 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:25:38.427 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:25:38.428 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 120.0641ms
[2025-10-30 13:25:38.428 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:25:38.428 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 121.4477ms
[2025-10-30 13:25:38.433 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:25:38.439 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:25:38.440 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:25:38.440 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 132.7187ms
[2025-10-30 13:25:38.440 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:25:38.441 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 134.6776ms
[2025-10-30 13:25:38.442 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.449 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.455 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.457 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.461 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.464 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.467 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.470 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.474 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.476 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.478 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.479 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.481 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.482 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.483 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.484 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.485 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.486 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.487 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.489 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.491 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.493 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.494 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.495 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.496 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.496 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.497 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.499 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.500 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.502 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.504 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.505 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.506 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.506 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.507 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.508 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.509 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.510 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.511 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.513 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.514 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.515 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.516 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.516 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.517 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.518 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.519 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.521 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.522 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.523 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.524 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.524 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.525 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.526 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.526 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.528 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.529 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.531 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.532 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.532 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.533 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.534 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.534 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.535 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.537 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.539 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.540 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.541 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.542 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.542 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.543 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.544 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.544 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.546 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.547 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.548 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.549 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.550 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.550 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.551 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.551 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.552 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.554 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.555 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.557 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.558 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.559 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.559 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.560 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.560 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.561 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.563 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.564 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.566 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.567 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.568 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.570 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.571 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.572 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.573 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.575 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.576 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.578 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.580 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.581 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.581 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.583 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.584 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.585 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.588 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.591 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.592 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.593 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.594 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.594 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.595 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.596 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.596 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.598 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.599 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.601 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.602 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.603 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.604 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.605 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.606 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.607 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.609 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.610 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.612 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.613 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.614 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.614 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.615 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.616 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.617 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.618 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.621 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.623 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.624 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.624 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.625 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.626 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.627 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.628 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.629 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.631 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.633 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.634 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.634 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.635 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.636 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.637 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.637 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.639 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:25:38.640 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:25:38.642 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.642 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.643 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.643 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:25:38.644 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:25:38.645 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:25:38.645 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:25:38.770 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 462.6392ms
[2025-10-30 13:25:38.770 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:25:38.771 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 464.0169ms
[2025-10-30 13:26:44.503 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:26:44.503 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:26:44.503 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:26:44.504 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:26:44.504 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:26:44.504 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:26:44.504 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.4932ms
[2025-10-30 13:26:44.505 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 1.3136ms
[2025-10-30 13:26:44.504 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 1.4923ms
[2025-10-30 13:26:44.509 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:26:44.509 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:26:44.510 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:26:44.510 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:26:44.510 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:26:44.510 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:26:44.510 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:26:44.510 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:26:44.510 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:26:44.511 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:26:44.511 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:26:44.511 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:26:44.522 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:26:44.525 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:26:44.528 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:26:44.528 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:26:44.528 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:26:44.529 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 18.4ms
[2025-10-30 13:26:44.529 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 18.4295ms
[2025-10-30 13:26:44.529 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:26:44.529 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:26:44.529 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 19.7406ms
[2025-10-30 13:26:44.529 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 20.2203ms
[2025-10-30 13:26:44.531 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.538 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.540 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.541 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.543 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.544 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.544 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.546 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.547 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.549 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.552 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.554 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.556 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.557 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.558 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.559 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.560 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.561 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.563 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.565 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.568 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.570 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.571 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.572 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.573 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.573 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.574 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.575 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.576 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.578 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.579 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.580 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.581 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.582 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.583 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.585 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.586 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.587 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.589 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.591 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.592 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.593 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.594 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.596 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.597 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.598 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.600 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.603 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.605 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.606 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.607 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.608 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.609 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.610 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.611 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.613 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.615 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.616 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.618 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.619 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.620 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.621 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.622 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.623 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.624 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.625 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.626 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.627 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.628 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.628 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.628 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.629 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.630 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.631 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.632 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.633 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.636 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.636 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.637 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.638 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.638 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.639 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.640 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.641 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.643 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.644 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.645 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.645 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.646 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.647 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.647 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.648 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.649 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.652 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.653 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.653 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.654 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.655 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.655 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.656 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.657 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.658 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.659 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.660 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.661 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.661 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.662 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.662 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.663 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.664 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.665 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.666 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.668 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.669 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.670 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.671 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.672 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.673 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.675 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.676 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.678 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.679 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.680 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.681 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.682 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.683 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.685 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.688 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.693 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.695 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.696 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.697 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.697 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.698 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.699 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.699 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.702 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.703 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.705 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.706 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.707 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.708 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.708 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.709 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.709 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.710 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.712 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.713 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.714 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.714 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.715 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.716 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.716 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.717 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.719 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:26:44.721 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:26:44.722 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.723 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.724 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.724 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:26:44.725 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:26:44.726 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:26:44.726 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:26:44.780 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 269.0895ms
[2025-10-30 13:26:44.780 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:26:44.780 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 270.9608ms
[2025-10-30 13:29:34.647 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:29:34.651 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:29:34.652 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:29:34.652 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:29:34.652 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 6.9724ms
[2025-10-30 13:29:34.652 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.7246ms
[2025-10-30 13:29:34.671 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:29:34.675 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:29:34.675 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:29:34.677 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:29:34.676 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:29:34.677 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 9.1344ms
[2025-10-30 13:29:34.677 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:29:34.677 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:29:34.678 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:29:34.682 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:29:34.682 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:29:34.686 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:29:34.725 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:29:34.726 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 43.9616ms
[2025-10-30 13:29:34.726 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:29:34.726 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 51.065ms
[2025-10-30 13:29:34.726 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:29:34.727 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:29:34.727 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 45.6366ms
[2025-10-30 13:29:34.727 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:29:34.729 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 57.9907ms
[2025-10-30 13:29:34.737 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:29:34.745 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:29:34.748 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:29:34.749 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:29:34.762 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:29:34.766 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.768 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.769 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.771 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.772 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.773 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.774 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.775 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.776 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.777 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.779 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.781 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.782 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.783 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.784 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.785 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.786 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.787 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.788 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.790 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.792 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.794 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.795 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.796 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.796 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.797 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.798 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.799 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.800 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.802 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.804 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.805 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.805 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.806 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.807 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.808 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.809 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.811 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.813 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.814 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.814 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.815 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.815 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.816 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.817 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.818 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.820 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.822 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.824 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.826 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.827 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.828 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.829 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.830 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.831 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.833 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.835 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.837 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.838 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.839 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.839 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.841 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.842 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.843 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.845 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.849 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.851 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.852 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.853 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.854 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.854 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.855 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.856 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.858 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.859 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.861 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.862 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.863 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.864 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.864 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.865 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.866 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.869 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.871 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.872 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.874 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.875 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.875 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.877 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.878 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.879 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.880 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.882 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.883 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.884 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.885 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.885 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.886 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.887 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.888 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.890 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.892 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.893 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.895 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.895 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.896 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.897 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.897 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.898 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.899 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.901 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.903 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.904 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.904 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.905 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.906 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.906 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.908 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.910 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.911 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.913 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.914 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.915 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.916 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.917 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.918 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.919 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.921 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.922 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.925 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.926 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.927 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.927 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.928 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.929 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.930 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.932 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.934 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.935 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.936 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.937 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.938 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.938 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.939 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.940 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.942 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.944 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.946 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.947 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.947 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.948 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.949 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.950 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.951 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.952 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:29:34.954 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:29:34.956 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.957 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.958 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.959 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:29:34.960 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:29:34.960 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:29:34.961 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:29:35.016 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 266.8037ms
[2025-10-30 13:29:35.016 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:29:35.016 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 281.2241ms
[2025-10-30 13:30:40.278 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:30:40.281 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:30:40.283 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 5.138ms
[2025-10-30 13:30:40.287 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:30:40.287 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:30:40.288 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:30:40.288 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:30:40.288 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 1.0723ms
[2025-10-30 13:30:40.288 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 1.608ms
[2025-10-30 13:30:40.296 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:30:40.296 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:30:40.301 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:30:40.301 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:30:40.301 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:30:40.301 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:30:40.302 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:30:40.302 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:30:40.302 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:30:40.302 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:30:40.302 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:30:40.302 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:30:40.418 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:30:40.419 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:30:40.419 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 117.3371ms
[2025-10-30 13:30:40.419 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:30:40.420 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 118.4791ms
[2025-10-30 13:30:40.452 +03:00  INF]  Executed DbCommand (16ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:30:40.453 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:30:40.461 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:30:40.462 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 160.2604ms
[2025-10-30 13:30:40.462 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:30:40.463 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 166.7207ms
[2025-10-30 13:30:40.467 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.478 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.480 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.482 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.486 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.491 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.494 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.497 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.500 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.502 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.503 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.507 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.508 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.510 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.510 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.511 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.512 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.513 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.514 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.517 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.518 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.520 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.522 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.524 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.525 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.526 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.527 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.528 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.531 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.534 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.546 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.547 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.548 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.549 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.550 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.552 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.553 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.558 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.559 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.561 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.563 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.564 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.566 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.567 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.568 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.570 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.572 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.574 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.576 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.577 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.578 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.579 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.580 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.581 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.582 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.584 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.585 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.587 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.588 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.589 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.591 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.592 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.592 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.593 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.595 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.597 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.599 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.600 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.601 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.602 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.604 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.605 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.607 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.610 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.612 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.613 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.614 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.615 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.616 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.617 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.618 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.619 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.621 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.623 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.624 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.625 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.626 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.627 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.627 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.628 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.629 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.630 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.632 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.634 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.634 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.635 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.636 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.637 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.638 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.640 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.642 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.644 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.646 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.647 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.647 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.648 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.649 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.650 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.651 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.653 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.656 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.657 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.658 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.659 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.659 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.660 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.661 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.662 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.664 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.665 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.667 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.669 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.669 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.670 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.672 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.674 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.676 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.678 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.680 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.682 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.683 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.684 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.685 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.686 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.688 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.690 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.692 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.694 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.696 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.697 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.698 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.698 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.699 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.700 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.701 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.703 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.706 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.707 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.708 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.709 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.710 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.710 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.711 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.712 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.713 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:30:40.715 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:30:40.716 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.718 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.719 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.720 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:30:40.721 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:30:40.723 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:30:40.723 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:30:40.781 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 478.5348ms
[2025-10-30 13:30:40.781 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:30:40.781 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 485.0704ms
[2025-10-30 13:31:35.614 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:31:35.625 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:31:35.625 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 13.0388ms
[2025-10-30 13:31:35.626 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:31:35.626 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:31:35.628 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 2.131ms
[2025-10-30 13:31:35.635 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:31:35.637 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:31:35.643 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 7.9469ms
[2025-10-30 13:31:35.643 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:31:35.644 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:31:35.644 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:31:35.646 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:31:35.646 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:31:35.646 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:31:35.651 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:31:35.653 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:31:35.653 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:31:35.653 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:31:35.653 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:31:35.659 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:31:35.665 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:31:35.666 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:31:35.667 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 13.8159ms
[2025-10-30 13:31:35.667 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:31:35.667 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 23.4039ms
[2025-10-30 13:31:35.670 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:31:35.670 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:31:35.671 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 11.8067ms
[2025-10-30 13:31:35.671 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:31:35.671 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 27.3606ms
[2025-10-30 13:31:35.675 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:31:35.678 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.685 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.687 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.689 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.692 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.697 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.698 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.699 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.700 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.701 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.702 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.704 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.706 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.707 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.708 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.709 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.711 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.712 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.713 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.716 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.718 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.720 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.722 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.722 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.723 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.725 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.726 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.727 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.728 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.730 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.731 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.732 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.733 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.733 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.734 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.735 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.736 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.737 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.739 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.741 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.742 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.743 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.743 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.744 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.745 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.746 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.747 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.749 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.751 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.752 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.753 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.754 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.755 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.756 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.756 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.759 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.761 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.762 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.763 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.764 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.765 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.766 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.767 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.768 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.770 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.771 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.773 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.775 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.775 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.776 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.777 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.778 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.779 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.781 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.783 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.785 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.786 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.787 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.788 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.789 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.791 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.792 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.795 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.798 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.800 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.801 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.802 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.804 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.806 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.807 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.809 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.812 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.816 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.818 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.820 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.821 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.822 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.823 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.824 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.826 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.828 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.829 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.831 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.832 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.833 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.834 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.835 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.836 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.837 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.839 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.842 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.843 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.844 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.845 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.846 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.847 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.848 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.849 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.851 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.853 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.854 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.855 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.856 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.858 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.859 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.860 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.861 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.864 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.866 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.868 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.869 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.870 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.871 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.872 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.873 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.874 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.876 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.878 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.880 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.881 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.882 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.884 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.885 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.886 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.887 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.889 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.892 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.894 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.895 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.896 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.897 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.898 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.899 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.900 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.903 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:31:35.905 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:31:35.906 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.908 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.909 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.910 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:31:35.911 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:31:35.912 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:31:35.913 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:31:35.968 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 314.485ms
[2025-10-30 13:31:35.968 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:31:35.968 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 321.8008ms
[2025-10-30 13:37:09.051 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:37:09.052 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:37:09.058 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 15.2911ms
[2025-10-30 13:37:09.058 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:37:09.058 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:37:09.058 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:37:09.058 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:37:09.058 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.2656ms
[2025-10-30 13:37:09.058 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.2867ms
[2025-10-30 13:37:09.065 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:37:09.066 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:37:09.066 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:37:09.066 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:37:09.066 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:37:09.067 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:37:09.067 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:37:09.067 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:37:09.115 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:37:09.131 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:37:09.131 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:37:09.132 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:37:09.205 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:37:09.206 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:37:09.206 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 139.6473ms
[2025-10-30 13:37:09.206 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:37:09.207 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 141.4913ms
[2025-10-30 13:37:09.233 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:37:09.237 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.240 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:37:09.240 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:37:09.240 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 108.8134ms
[2025-10-30 13:37:09.240 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:37:09.241 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 125.2927ms
[2025-10-30 13:37:09.242 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.245 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.247 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.250 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.252 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.255 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.258 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.260 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.261 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.263 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.264 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.266 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.267 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.268 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.269 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.270 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.271 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.272 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.274 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.275 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.277 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.278 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.279 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.280 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.281 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.281 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.282 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.284 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.286 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.287 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.288 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.289 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.290 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.291 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.292 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.293 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.295 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.297 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.298 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.299 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.300 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.301 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.302 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.302 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.303 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.305 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.306 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.308 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.309 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.309 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.310 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.311 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.312 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.313 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.315 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.317 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.319 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.320 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.321 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.322 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.323 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.324 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.325 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.327 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.329 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.331 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.332 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.333 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.334 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.335 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.335 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.336 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.339 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.342 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.344 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.345 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.350 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.351 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.353 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.354 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.355 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.358 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.360 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.363 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.364 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.365 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.367 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.368 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.369 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.370 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.373 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.376 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.377 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.379 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.380 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.381 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.382 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.383 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.383 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.385 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.386 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.388 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.388 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.389 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.390 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.391 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.392 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.393 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.396 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.398 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.399 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.400 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.401 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.402 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.402 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.403 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.404 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.406 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.407 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.408 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.409 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.410 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.411 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.413 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.414 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.415 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.418 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.420 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.422 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.423 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.424 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.425 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.426 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.427 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.429 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.431 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.433 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.435 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.437 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.437 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.438 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.439 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.440 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.441 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.443 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.446 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.447 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.448 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.449 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.449 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.450 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.451 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.452 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.454 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:37:09.456 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:37:09.458 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.459 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.460 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.461 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:37:09.462 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:37:09.463 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:37:09.464 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:37:09.518 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 451.7ms
[2025-10-30 13:37:09.519 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:37:09.519 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 452.6513ms
[2025-10-30 13:38:14.276 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:38:14.278 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:38:14.283 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 7.0466ms
[2025-10-30 13:38:14.296 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:38:14.299 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:38:14.300 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:38:14.300 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:38:14.300 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 4.1757ms
[2025-10-30 13:38:14.300 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.9183ms
[2025-10-30 13:38:14.300 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:38:14.302 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:38:14.302 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:38:14.306 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:38:14.307 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:38:14.307 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:38:14.311 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:38:14.311 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:38:14.311 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:38:14.311 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:38:14.312 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:38:14.312 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:38:14.312 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:38:14.312 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:38:14.312 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 6.6714ms
[2025-10-30 13:38:14.312 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:38:14.313 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 12.6939ms
[2025-10-30 13:38:14.329 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:38:14.329 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:38:14.329 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:38:14.331 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 19.1953ms
[2025-10-30 13:38:14.331 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:38:14.333 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 25.3422ms
[2025-10-30 13:38:14.339 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.351 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.353 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.355 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.356 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.359 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.360 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.361 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.362 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.363 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.366 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.368 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.369 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.370 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.371 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.372 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.374 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.376 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.378 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.380 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.381 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.383 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.384 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.384 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.385 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.386 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.387 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.388 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.390 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.391 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.393 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.394 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.395 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.396 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.397 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.398 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.399 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.401 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.403 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.405 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.406 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.406 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.407 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.408 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.409 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.411 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.413 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.416 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.418 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.419 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.420 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.421 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.422 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.423 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.424 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.426 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.428 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.429 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.430 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.431 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.432 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.432 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.433 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.434 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.435 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.437 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.438 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.439 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.440 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.441 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.441 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.442 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.444 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.446 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.447 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.449 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.450 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.451 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.451 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.452 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.453 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.454 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.455 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.457 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.458 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.459 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.460 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.462 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.463 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.463 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.464 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.465 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.466 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.468 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.469 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.470 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.470 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.471 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.472 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.473 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.474 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.475 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.478 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.478 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.479 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.480 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.480 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.481 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.482 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.483 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.485 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.486 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.487 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.488 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.489 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.490 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.490 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.491 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.494 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.496 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.498 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.499 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.500 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.501 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.502 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.503 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.504 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.507 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.508 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.510 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.511 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.512 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.512 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.513 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.514 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.514 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.516 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.517 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.519 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.520 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.520 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.521 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.522 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.523 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.523 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.525 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.527 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.528 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.529 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.530 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.530 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.531 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.532 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.532 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.534 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:38:14.535 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:38:14.537 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.538 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.539 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.539 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:38:14.540 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:38:14.541 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:38:14.541 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:38:14.586 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 273.407ms
[2025-10-30 13:38:14.586 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:38:14.586 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 274.6473ms
[2025-10-30 13:39:26.083 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:39:26.083 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:39:26.084 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.3827ms
[2025-10-30 13:39:26.094 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:39:26.094 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:39:26.095 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:39:26.099 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:39:26.101 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:39:26.102 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:39:26.102 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:39:26.109 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:39:26.109 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 9.2485ms
[2025-10-30 13:39:26.109 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 7.2013ms
[2025-10-30 13:39:26.119 +03:00  INF]  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:39:26.129 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:39:26.129 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:39:26.129 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:39:26.134 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:39:26.134 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:39:26.134 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:39:26.134 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:39:26.135 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:39:26.135 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:39:26.137 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 37.8416ms
[2025-10-30 13:39:26.142 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:39:26.143 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 48.5952ms
[2025-10-30 13:39:26.145 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:39:26.145 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:39:26.145 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 10.8084ms
[2025-10-30 13:39:26.145 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:39:26.145 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 16.661ms
[2025-10-30 13:39:26.149 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:39:26.153 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.157 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.159 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.161 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.162 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.163 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.164 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.166 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.167 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.168 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.171 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.175 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.176 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.177 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.178 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.179 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.180 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.181 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.182 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.184 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.186 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.188 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.190 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.191 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.192 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.193 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.194 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.195 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.197 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.198 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.200 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.201 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.202 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.202 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.204 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.206 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.207 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.209 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.211 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.213 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.214 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.215 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.216 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.217 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.218 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.219 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.222 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.226 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.227 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.228 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.229 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.230 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.231 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.232 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.233 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.235 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.239 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.241 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.242 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.243 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.244 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.246 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.247 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.248 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.251 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.253 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.258 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.259 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.260 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.261 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.262 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.263 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.265 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.267 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.268 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.272 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.274 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.275 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.276 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.276 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.277 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.278 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.280 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.283 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.284 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.285 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.286 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.288 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.290 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.291 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.292 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.294 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.295 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.297 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.298 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.299 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.300 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.301 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.302 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.303 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.306 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.308 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.310 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.311 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.312 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.313 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.314 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.315 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.316 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.318 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.319 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.323 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.324 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.325 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.326 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.327 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.328 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.329 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.331 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.332 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.333 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.334 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.336 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.337 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.339 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.340 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.342 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.343 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.345 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.347 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.348 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.349 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.350 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.351 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.352 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.353 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.356 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.360 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.363 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.364 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.364 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.366 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.367 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.367 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.369 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.372 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.380 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.381 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.383 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.384 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.385 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.386 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.390 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.391 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.393 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:39:26.395 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:39:26.396 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.397 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.398 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.399 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:39:26.400 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:39:26.401 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:39:26.401 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:39:26.455 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 319.6619ms
[2025-10-30 13:39:26.455 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:39:26.456 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 326.8285ms
[2025-10-30 13:40:16.325 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:40:16.336 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:16.336 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 12.2198ms
[2025-10-30 13:40:16.347 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:40:16.357 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:16.507 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 8:16:53 AM', Current time (UTC): '10/30/2025 10:40:16 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 13:40:16.541 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 8:16:53 AM', Current time (UTC): '10/30/2025 10:40:16 AM'.
[2025-10-30 13:40:16.555 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 13:40:16.566 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 13:40:16.567 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 219.8483ms
[2025-10-30 13:40:38.753 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:40:38.754 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:40:38.754 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:38.755 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 2.102ms
[2025-10-30 13:40:38.755 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:38.759 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 4.1415ms
[2025-10-30 13:40:38.760 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:40:38.760 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:38.760 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:40:38.761 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:40:38.772 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:40:38.776 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:40:38.777 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:38.777 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:40:38.785 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 23.6253ms
[2025-10-30 13:40:38.787 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:40:38.788 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 27.6045ms
[2025-10-30 13:40:38.811 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:40:38.819 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:40:38.869 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:40:38.902 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:38.909 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:38.913 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:38.915 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:38.915 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:40:38.929 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 109.8751ms
[2025-10-30 13:40:38.929 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:40:38.930 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 153.939ms
[2025-10-30 13:40:42.994 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:40:42.994 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:40:42.994 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:42.994 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:42.994 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4981ms
[2025-10-30 13:40:42.994 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:40:42.994 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:40:42.998 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:40:42.999 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:40:42.999 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:43.000 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:40:43.001 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 6.3383ms
[2025-10-30 13:40:43.002 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:40:43.003 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 9.2914ms
[2025-10-30 13:40:43.007 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:40:43.007 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:40:43.044 +03:00  INF]  Executed DbCommand (30ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:40:43.053 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:43.054 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:43.056 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:43.058 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:43.059 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:40:43.059 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 52.0904ms
[2025-10-30 13:40:43.059 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:40:43.059 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 60.5413ms
[2025-10-30 13:40:56.087 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:40:56.089 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:56.089 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.6229ms
[2025-10-30 13:40:56.089 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:40:56.089 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:56.089 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.2178ms
[2025-10-30 13:40:56.110 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:40:56.111 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:56.111 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:40:56.111 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:40:56.121 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:40:56.121 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:40:56.123 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:40:56.123 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:40:56.127 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:40:56.127 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:40:56.128 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 13.7253ms
[2025-10-30 13:40:56.128 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:40:56.128 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 17.7605ms
[2025-10-30 13:40:56.134 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:40:56.137 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:56.140 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:56.142 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:56.145 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:40:56.145 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:40:56.145 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 22.4184ms
[2025-10-30 13:40:56.145 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:40:56.145 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 24.8395ms
[2025-10-30 13:41:25.631 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:41:25.632 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:41:25.632 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.9848ms
[2025-10-30 13:41:25.641 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:41:25.642 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:41:25.643 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:41:25.643 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:41:25.662 +03:00  INF]  Executed DbCommand (18ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:41:25.664 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:41:25.665 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:41:25.666 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:41:25.668 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:41:25.668 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:41:25.668 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 24.8768ms
[2025-10-30 13:41:25.668 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:41:25.668 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 27.3734ms
[2025-10-30 13:42:20.014 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:42:20.015 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:20.015 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.9068ms
[2025-10-30 13:42:20.032 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:42:20.033 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:20.033 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:42:20.034 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:42:20.151 +03:00  INF]  Executed DbCommand (15ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:42:20.156 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:20.158 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:20.161 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:20.163 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:20.163 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:42:20.163 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 129.4721ms
[2025-10-30 13:42:20.163 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:42:20.163 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 133.1673ms
[2025-10-30 13:42:23.816 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:42:23.817 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:23.817 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:42:23.817 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:23.817 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5238ms
[2025-10-30 13:42:23.817 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.0907ms
[2025-10-30 13:42:23.819 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:42:23.820 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:42:23.820 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:23.820 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:23.820 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:42:23.820 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:42:23.821 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:42:23.821 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:42:23.825 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:42:23.825 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:42:23.826 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 5.414ms
[2025-10-30 13:42:23.826 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:42:23.826 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 6.4381ms
[2025-10-30 13:42:23.833 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:42:23.836 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:23.838 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:23.846 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:23.848 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:23.849 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:42:23.849 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 28.1342ms
[2025-10-30 13:42:23.849 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:42:23.849 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 29.3368ms
[2025-10-30 13:42:25.051 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 13:42:25.051 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:25.051 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 0.308ms
[2025-10-30 13:42:25.051 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 13:42:25.051 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:25.051 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.3265ms
[2025-10-30 13:42:25.055 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 13:42:25.055 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 13:42:25.055 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:25.055 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:25.055 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:42:25.055 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:42:25.055 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:42:25.055 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 13:42:25.072 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 13:42:25.072 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:42:25.072 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 16.9256ms
[2025-10-30 13:42:25.073 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 13:42:25.073 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 18.0539ms
[2025-10-30 13:42:25.215 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 13:42:25.219 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.233 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.234 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.237 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.238 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.243 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.244 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.246 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.247 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.248 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.251 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.252 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.253 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.254 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.255 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.257 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.259 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.260 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.261 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.262 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.263 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.265 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.266 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.266 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.267 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.267 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.268 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.268 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.270 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.271 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.274 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.276 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.277 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.277 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.278 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.278 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.279 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.280 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.281 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.283 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.284 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.284 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.285 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.285 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.287 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.288 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.294 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.297 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.299 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.300 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.301 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.301 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.302 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.303 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.303 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.304 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.309 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.310 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.311 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.312 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.312 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.313 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.313 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.314 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.315 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.317 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.319 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.320 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.320 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.321 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.322 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.323 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.326 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.327 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.328 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.330 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.331 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.331 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.332 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.332 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.333 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.334 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.335 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.336 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.338 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.341 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.343 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.344 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.344 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.345 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.346 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.347 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.348 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.350 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.351 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.352 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.353 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.354 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.355 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.359 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.362 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.364 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.366 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.367 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.368 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.369 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.370 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.371 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.375 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.379 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.383 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.385 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.386 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.388 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.393 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.395 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.396 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.398 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.401 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.404 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.409 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.411 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.412 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.413 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.414 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.415 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.416 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.417 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.419 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.421 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.426 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.428 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.430 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.431 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.432 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.433 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.435 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.437 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.439 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.442 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.443 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.444 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.445 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.446 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.447 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.450 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.452 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.454 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.455 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.457 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.460 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.461 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.462 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.462 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.464 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 13:42:25.466 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 13:42:25.468 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.469 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.470 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.471 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 13:42:25.473 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 13:42:25.475 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 13:42:25.476 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:42:25.577 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 522.1556ms
[2025-10-30 13:42:25.578 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 13:42:25.578 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 523.0662ms
[2025-10-30 13:42:27.157 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:42:27.158 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:27.158 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5748ms
[2025-10-30 13:42:27.160 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:42:27.160 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:42:27.161 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:42:27.161 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:42:27.167 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:42:27.175 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:27.179 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:27.182 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:27.184 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:42:27.185 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:42:27.185 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 24.4423ms
[2025-10-30 13:42:27.185 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:42:27.186 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 26.19ms
[2025-10-30 13:46:53.000 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:46:53.000 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:46:53.001 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6552ms
[2025-10-30 13:46:53.010 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:46:53.010 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:46:53.011 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:46:53.011 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:46:53.020 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:46:53.023 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:46:53.024 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:46:53.026 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:46:53.028 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:46:53.028 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:46:53.028 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 17.3647ms
[2025-10-30 13:46:53.028 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:46:53.028 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 21.347ms
[2025-10-30 13:46:57.230 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:46:57.230 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:46:57.230 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4987ms
[2025-10-30 13:46:57.232 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:46:57.232 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:46:57.233 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:46:57.233 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:46:57.237 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:46:57.239 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:46:57.240 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:46:57.241 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:46:57.243 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:46:57.243 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:46:57.243 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 10.0692ms
[2025-10-30 13:46:57.243 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:46:57.243 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 11.5579ms
[2025-10-30 13:47:00.059 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:47:00.059 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:47:00.059 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5576ms
[2025-10-30 13:47:00.064 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:47:00.065 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:47:00.067 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:47:00.067 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:47:00.087 +03:00  INF]  Executed DbCommand (12ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:47:00.098 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:47:00.100 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:47:00.101 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:47:00.103 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:47:00.103 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:47:00.103 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 36.3002ms
[2025-10-30 13:47:00.103 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:47:00.104 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 39.4375ms
[2025-10-30 13:47:16.527 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:47:16.528 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:47:16.528 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:47:16.528 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:47:16.528 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.1537ms
[2025-10-30 13:47:16.528 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.2976ms
[2025-10-30 13:47:16.535 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:47:16.540 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:47:16.540 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:47:16.540 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:47:16.542 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:47:16.542 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:47:16.545 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:47:16.545 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:47:16.547 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:47:16.549 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:47:16.550 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 9.1822ms
[2025-10-30 13:47:16.550 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:47:16.550 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 15.3708ms
[2025-10-30 13:47:16.557 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:47:16.567 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:47:16.569 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:47:16.574 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:47:16.576 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:47:16.576 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:47:16.576 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 28.8204ms
[2025-10-30 13:47:16.576 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:47:16.577 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 34.6606ms
[2025-10-30 13:48:00.139 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:48:00.140 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:00.140 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3903ms
[2025-10-30 13:48:00.151 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:48:00.151 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:00.152 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:00.152 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:48:00.265 +03:00  INF]  Executed DbCommand (19ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:48:00.273 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:00.275 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:00.276 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:00.278 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:00.278 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:48:00.279 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 126.1959ms
[2025-10-30 13:48:00.279 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:00.279 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 131.8522ms
[2025-10-30 13:48:45.997 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:48:45.997 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:46.001 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.2641ms
[2025-10-30 13:48:46.015 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:48:46.019 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:46.020 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:46.020 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:48:46.027 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:48:46.029 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:46.030 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:46.032 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:46.033 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:46.034 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:48:46.034 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 14.0027ms
[2025-10-30 13:48:46.034 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:46.034 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 18.8011ms
[2025-10-30 13:48:46.998 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:48:46.998 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:46.998 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.696ms
[2025-10-30 13:48:47.000 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:48:47.000 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:47.001 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:47.001 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:48:47.005 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:48:47.007 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:47.008 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:47.010 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:47.012 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:47.012 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:48:47.012 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 11.2272ms
[2025-10-30 13:48:47.012 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:47.013 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 12.6013ms
[2025-10-30 13:48:53.035 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:48:53.035 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:53.035 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.2447ms
[2025-10-30 13:48:53.040 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:48:53.040 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:53.041 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:53.041 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:48:53.055 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:48:53.057 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:53.059 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:53.061 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:53.063 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:53.063 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:48:53.063 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 22.5882ms
[2025-10-30 13:48:53.063 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:53.064 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 24.0748ms
[2025-10-30 13:48:58.012 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:48:58.013 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:58.014 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.621ms
[2025-10-30 13:48:58.019 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:48:58.019 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:48:58.020 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:58.020 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:48:58.037 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:48:58.061 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:58.065 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:58.070 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:58.074 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:48:58.075 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:48:58.075 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 55.1014ms
[2025-10-30 13:48:58.076 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:48:58.076 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 57.59ms
[2025-10-30 13:49:27.010 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:49:27.011 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:49:27.013 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 2.9848ms
[2025-10-30 13:49:27.022 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:49:27.023 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:49:27.032 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:49:27.032 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:49:27.055 +03:00  INF]  Executed DbCommand (19ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:49:27.069 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:49:27.073 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:49:27.077 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:49:27.082 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:49:27.083 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:49:27.083 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 50.7721ms
[2025-10-30 13:49:27.083 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:49:27.084 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 61.6307ms
[2025-10-30 13:49:39.000 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:49:39.006 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:49:39.007 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 6.5604ms
[2025-10-30 13:49:39.021 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:49:39.022 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:49:39.023 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:49:39.023 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:49:39.039 +03:00  INF]  Executed DbCommand (12ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:49:39.045 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:49:39.049 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:49:39.053 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:49:39.061 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:49:39.062 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:49:39.063 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 38.9582ms
[2025-10-30 13:49:39.063 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:49:39.063 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 42.2474ms
[2025-10-30 13:50:02.082 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:50:02.082 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:50:02.082 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6434ms
[2025-10-30 13:50:02.084 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:50:02.084 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:50:02.085 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:50:02.085 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:50:02.089 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:50:02.091 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:50:02.093 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:50:02.094 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:50:02.096 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:50:02.096 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:50:02.096 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 11.4946ms
[2025-10-30 13:50:02.097 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:50:02.097 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 12.8933ms
[2025-10-30 13:50:07.008 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:50:07.009 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:50:07.009 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.6008ms
[2025-10-30 13:50:07.013 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:50:07.015 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:50:07.016 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:50:07.016 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:50:07.031 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:50:07.035 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:50:07.039 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:50:07.043 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:50:07.046 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:50:07.047 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:50:07.048 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 31.2346ms
[2025-10-30 13:50:07.048 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:50:07.048 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 35.2918ms
[2025-10-30 13:51:40.004 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:51:40.005 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:51:40.005 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.7514ms
[2025-10-30 13:51:40.018 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:51:40.018 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:51:40.025 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:51:40.025 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:51:40.038 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:51:40.042 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:40.046 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:40.049 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:40.053 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:40.054 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:51:40.054 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 28.8986ms
[2025-10-30 13:51:40.054 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:51:40.055 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 37.4102ms
[2025-10-30 13:51:48.004 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:51:48.004 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:51:48.004 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.195ms
[2025-10-30 13:51:48.010 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:51:48.010 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:51:48.011 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:51:48.011 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:51:48.027 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:51:48.032 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:48.036 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:48.040 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:48.043 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:48.044 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:51:48.045 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 33.4466ms
[2025-10-30 13:51:48.045 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:51:48.045 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 36.6647ms
[2025-10-30 13:51:53.005 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:51:53.006 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:51:53.006 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 2.0005ms
[2025-10-30 13:51:53.014 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:51:53.014 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:51:53.015 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:51:53.015 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:51:53.038 +03:00  INF]  Executed DbCommand (20ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:51:53.043 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:53.047 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:53.051 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:53.056 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:53.057 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:51:53.058 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 42.1421ms
[2025-10-30 13:51:53.058 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:51:53.058 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 45.2062ms
[2025-10-30 13:51:57.005 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:51:57.006 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:51:57.007 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.4151ms
[2025-10-30 13:51:57.010 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 40
[2025-10-30 13:51:57.011 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:51:57.012 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:51:57.013 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:51:57.026 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:51:57.030 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:57.034 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:57.037 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:57.040 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:51:57.040 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:51:57.040 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 27.6684ms
[2025-10-30 13:51:57.041 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:51:57.041 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 31.2299ms
[2025-10-30 13:56:58.041 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:56:58.042 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:56:58.042 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.9941ms
[2025-10-30 13:56:58.087 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:56:58.093 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:56:58.094 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:56:58.095 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:56:58.241 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:56:58.247 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:56:58.248 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:56:58.249 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:56:58.250 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:56:58.250 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:56:58.250 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 155.2321ms
[2025-10-30 13:56:58.250 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:56:58.250 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 163.8815ms
[2025-10-30 13:57:06.999 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:57:06.999 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:06.999 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.0136ms
[2025-10-30 13:57:07.002 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:57:07.003 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:07.004 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:07.004 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:57:07.013 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:57:07.015 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:07.017 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:07.020 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:07.022 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:07.022 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:57:07.023 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 19.4954ms
[2025-10-30 13:57:07.023 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:07.024 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 22.001ms
[2025-10-30 13:57:16.993 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:57:16.993 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:16.993 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.8149ms
[2025-10-30 13:57:16.995 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:57:16.996 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:16.997 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:16.997 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:57:17.003 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:57:17.004 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:17.005 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:17.006 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:17.007 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:17.008 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:57:17.008 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 11.1025ms
[2025-10-30 13:57:17.008 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:17.008 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 13.0452ms
[2025-10-30 13:57:28.014 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:57:28.016 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:28.016 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 2.2329ms
[2025-10-30 13:57:28.020 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:57:28.021 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:28.022 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:28.022 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:57:28.035 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:57:28.041 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:28.045 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:28.050 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:28.055 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:28.055 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:57:28.056 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 33.5315ms
[2025-10-30 13:57:28.056 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:28.056 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 36.9399ms
[2025-10-30 13:57:30.998 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:57:30.999 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:30.999 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.5792ms
[2025-10-30 13:57:31.016 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:57:31.017 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:31.019 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:31.020 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:57:31.080 +03:00  INF]  Executed DbCommand (52ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:57:31.086 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:31.091 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:31.095 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:31.099 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:31.099 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:57:31.100 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 79.8024ms
[2025-10-30 13:57:31.100 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:31.100 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 84.6921ms
[2025-10-30 13:57:46.003 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:57:46.003 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:46.004 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5267ms
[2025-10-30 13:57:46.008 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:57:46.008 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:46.009 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:46.009 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:57:46.021 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:57:46.025 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:46.027 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:46.029 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:46.031 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:46.031 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:57:46.032 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 22.4845ms
[2025-10-30 13:57:46.032 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:46.032 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 24.6793ms
[2025-10-30 13:57:51.055 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:57:51.055 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:51.055 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3136ms
[2025-10-30 13:57:51.057 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:57:51.057 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:57:51.059 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:51.059 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:57:51.063 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:57:51.066 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:51.068 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:51.069 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:51.071 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:57:51.071 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:57:51.072 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 12.0889ms
[2025-10-30 13:57:51.072 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:57:51.072 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 15.264ms
[2025-10-30 13:58:04.370 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:58:04.370 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:04.370 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.5604ms
[2025-10-30 13:58:04.372 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:58:04.372 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:04.373 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:58:04.373 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.9379ms
[2025-10-30 13:58:04.373 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:04.373 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:58:04.373 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:58:04.381 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:58:04.381 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:04.381 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:58:04.382 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:04.382 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 8.9091ms
[2025-10-30 13:58:04.382 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:58:04.382 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:04.382 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 9.6265ms
[2025-10-30 13:58:04.382 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:58:04.386 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:58:04.388 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:04.390 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:04.391 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:04.393 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:04.393 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:04.393 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 10.831ms
[2025-10-30 13:58:04.393 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:04.393 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 12.6493ms
[2025-10-30 13:58:08.272 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:58:08.272 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:08.273 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:58:08.273 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:08.273 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3717ms
[2025-10-30 13:58:08.273 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:58:08.274 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:58:08.275 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:58:08.276 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:08.276 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 2.6396ms
[2025-10-30 13:58:08.276 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:58:08.276 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 4.6405ms
[2025-10-30 13:58:08.276 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:58:08.277 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:08.277 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:08.277 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:58:08.281 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:58:08.283 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:08.285 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:08.286 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:08.287 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:08.288 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:08.288 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 10.9378ms
[2025-10-30 13:58:08.288 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:08.288 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 11.6606ms
[2025-10-30 13:58:10.832 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:58:10.832 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:10.832 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.4771ms
[2025-10-30 13:58:10.832 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:58:10.833 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:10.833 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.7968ms
[2025-10-30 13:58:10.837 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:58:10.837 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:58:10.837 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:10.837 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:10.839 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:10.839 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:58:10.840 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:58:10.841 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:58:10.853 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:58:10.857 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:10.859 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 18.0814ms
[2025-10-30 13:58:10.859 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:58:10.859 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 23.4707ms
[2025-10-30 13:58:10.991 +03:00  INF]  Executed DbCommand (25ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:58:10.993 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:10.999 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:11.001 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:11.003 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:11.003 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:11.003 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 164.0677ms
[2025-10-30 13:58:11.003 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:11.004 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 166.9927ms
[2025-10-30 13:58:42.007 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:58:42.008 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:42.008 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6475ms
[2025-10-30 13:58:42.014 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:58:42.014 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:42.019 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:42.019 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:58:42.025 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:58:42.028 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:42.030 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:42.032 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:42.034 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:42.034 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:42.035 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 15.7964ms
[2025-10-30 13:58:42.035 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:42.035 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 21.1343ms
[2025-10-30 13:58:45.041 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:58:45.044 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:45.044 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 3.6928ms
[2025-10-30 13:58:45.049 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:58:45.050 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:45.051 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:45.051 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:58:45.060 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:58:45.073 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:45.075 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:45.077 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:45.078 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:45.078 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:45.084 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 33.652ms
[2025-10-30 13:58:45.085 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:45.085 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 36.0647ms
[2025-10-30 13:58:59.243 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:58:59.243 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:59.243 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.2975ms
[2025-10-30 13:58:59.248 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:58:59.248 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:59.248 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:58:59.248 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:58:59.253 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:58:59.255 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:59.255 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 6.7714ms
[2025-10-30 13:58:59.255 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:58:59.255 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 7.243ms
[2025-10-30 13:58:59.261 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:58:59.263 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:59.263 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 2.7176ms
[2025-10-30 13:58:59.265 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:58:59.266 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:58:59.266 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:59.266 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:58:59.271 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:58:59.272 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:59.274 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:59.276 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:59.277 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:58:59.277 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:58:59.277 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 11.3608ms
[2025-10-30 13:58:59.277 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:58:59.278 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 12.7107ms
[2025-10-30 13:59:01.719 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:59:01.719 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:01.719 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:59:01.719 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:59:01.724 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:59:01.726 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:59:01.726 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 6.4578ms
[2025-10-30 13:59:01.726 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:59:01.731 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.4425ms
[2025-10-30 13:59:01.737 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:59:01.740 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:01.740 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 3.2857ms
[2025-10-30 13:59:01.742 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:59:01.742 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:01.742 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:59:01.742 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:59:01.751 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:59:01.753 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:01.755 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:01.757 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:01.759 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:01.759 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:59:01.759 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 16.7378ms
[2025-10-30 13:59:01.759 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:59:01.759 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 17.9134ms
[2025-10-30 13:59:28.807 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:59:28.808 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:28.808 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.3675ms
[2025-10-30 13:59:28.812 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:59:28.813 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:28.813 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.4552ms
[2025-10-30 13:59:28.816 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:59:28.817 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:59:28.817 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:28.817 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:28.820 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:59:28.821 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:59:28.823 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:59:28.823 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:59:28.825 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:59:28.829 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:59:28.829 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 8.2305ms
[2025-10-30 13:59:28.829 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:59:28.829 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 13.1982ms
[2025-10-30 13:59:28.830 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:59:28.832 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:28.834 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:28.835 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:28.836 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:28.836 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:59:28.837 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 13.1124ms
[2025-10-30 13:59:28.837 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:59:28.837 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 20.5115ms
[2025-10-30 13:59:35.770 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 13:59:35.770 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:35.771 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.5753ms
[2025-10-30 13:59:35.772 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 13:59:35.773 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 13:59:35.773 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:35.773 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.8283ms
[2025-10-30 13:59:35.773 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:35.773 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:59:35.773 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 13:59:35.774 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 13:59:35.775 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 13:59:35.776 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:59:35.776 +03:00  INF]  CORS policy execution successful.
[2025-10-30 13:59:35.776 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 3.0175ms
[2025-10-30 13:59:35.776 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 13:59:35.777 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 4.0773ms
[2025-10-30 13:59:35.777 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:59:35.777 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 13:59:35.782 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 13:59:35.783 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:35.785 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:35.787 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:35.789 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 13:59:35.789 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 13:59:35.789 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 12.1836ms
[2025-10-30 13:59:35.789 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 13:59:35.789 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 14.4977ms
[2025-10-30 14:00:03.459 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 14:00:03.462 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:03.462 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 2.9609ms
[2025-10-30 14:00:03.462 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:00:03.468 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:03.468 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 6.5974ms
[2025-10-30 14:00:03.473 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 14:00:03.473 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:00:03.473 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:03.473 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:03.473 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:00:03.473 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 14:00:03.474 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:00:03.474 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:00:03.483 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:00:03.483 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 14:00:03.483 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:00:03.484 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 10.0451ms
[2025-10-30 14:00:03.484 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:00:03.484 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.1494ms
[2025-10-30 14:00:03.486 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:03.488 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:03.490 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:03.493 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:03.493 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:00:03.494 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 19.6825ms
[2025-10-30 14:00:03.494 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:00:03.494 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 21.3897ms
[2025-10-30 14:00:11.253 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 14:00:11.254 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:11.254 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.885ms
[2025-10-30 14:00:11.255 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:00:11.256 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:11.256 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.7987ms
[2025-10-30 14:00:11.256 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 14:00:11.257 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:11.257 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:00:11.257 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 14:00:11.258 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:00:11.259 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:11.261 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:00:11.262 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:00:11.266 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:00:11.267 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 14:00:11.268 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:00:11.268 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 11.0963ms
[2025-10-30 14:00:11.268 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:00:11.268 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.8502ms
[2025-10-30 14:00:11.268 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:11.270 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:11.272 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:11.273 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:11.274 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:00:11.274 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 12.454ms
[2025-10-30 14:00:11.274 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:00:11.274 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 16.0756ms
[2025-10-30 14:00:18.213 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 14:00:18.213 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:18.213 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.228ms
[2025-10-30 14:00:18.214 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:00:18.214 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:18.214 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.1092ms
[2025-10-30 14:00:18.229 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:00:18.229 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 14:00:18.229 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:18.229 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:18.230 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:00:18.230 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 14:00:18.230 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:00:18.230 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:00:18.236 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 14:00:18.237 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:00:18.238 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 8.3345ms
[2025-10-30 14:00:18.238 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:00:18.238 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:00:18.239 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 9.844ms
[2025-10-30 14:00:18.241 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:18.242 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:18.244 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:18.247 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:18.247 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:00:18.248 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 17.771ms
[2025-10-30 14:00:18.248 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:00:18.248 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 18.8178ms
[2025-10-30 14:00:57.111 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:00:57.111 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:57.116 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 4.7026ms
[2025-10-30 14:00:57.140 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:00:57.143 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:00:57.151 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:00:57.152 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:00:57.169 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:00:57.171 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:57.173 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:57.175 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:57.177 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:00:57.177 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:00:57.178 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 25.8787ms
[2025-10-30 14:00:57.178 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:00:57.178 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 38.2162ms
[2025-10-30 14:01:24.782 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 14:01:24.782 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:01:24.782 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.3133ms
[2025-10-30 14:01:24.790 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:01:24.792 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 14:01:24.792 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:01:24.796 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:01:24.796 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:01:24.796 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 7.1782ms
[2025-10-30 14:01:24.796 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 14:01:24.817 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:01:24.821 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:01:24.823 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 14:01:24.824 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:01:24.824 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:01:24.825 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:01:24.826 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 29.7514ms
[2025-10-30 14:01:24.826 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:01:24.827 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 36.0613ms
[2025-10-30 14:01:24.833 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:01:24.836 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:01:24.838 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:01:24.841 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:01:24.843 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:01:24.844 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:01:24.844 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 19.3319ms
[2025-10-30 14:01:24.844 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:01:24.844 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 27.0784ms
[2025-10-30 14:01:54.570 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 14:01:54.572 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:01:54.572 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.301ms
[2025-10-30 14:01:54.585 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:01:54.587 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 14:01:54.587 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:01:54.587 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 5.3214ms
[2025-10-30 14:01:54.587 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:01:54.590 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:01:54.590 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 14:01:54.591 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:01:54.591 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:01:54.593 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 14:01:54.597 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:01:54.597 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:01:54.597 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:01:54.597 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 6.4445ms
[2025-10-30 14:01:54.597 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:01:54.597 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.5967ms
[2025-10-30 14:01:54.605 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:01:54.608 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:01:54.610 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:01:54.612 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:01:54.614 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:01:54.614 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:01:54.614 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 17.3116ms
[2025-10-30 14:01:54.614 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:01:54.614 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 23.306ms
[2025-10-30 14:03:16.959 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 14:03:16.959 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:03:16.959 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:03:16.959 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:03:16.959 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.6049ms
[2025-10-30 14:03:16.960 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.8149ms
[2025-10-30 14:03:16.965 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 14:03:16.968 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:03:16.968 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:03:16.968 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 14:03:16.971 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:03:16.975 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:03:16.979 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:03:16.979 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:03:17.090 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 14:03:17.091 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:03:17.091 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 122.311ms
[2025-10-30 14:03:17.091 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:03:17.091 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 126.5565ms
[2025-10-30 14:03:17.110 +03:00  INF]  Executed DbCommand (12ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:03:17.115 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:03:17.119 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:03:17.121 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:03:17.122 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:03:17.123 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:03:17.123 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 143.1552ms
[2025-10-30 14:03:17.123 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:03:17.123 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 152.3702ms
[2025-10-30 14:04:41.008 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 14:04:41.009 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:41.009 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:41.009 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.7272ms
[2025-10-30 14:04:41.010 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:41.011 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.9067ms
[2025-10-30 14:04:41.014 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 14:04:41.015 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:41.016 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:04:41.016 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 14:04:41.025 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 14:04:41.025 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:41.025 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 9.497ms
[2025-10-30 14:04:41.025 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:04:41.026 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.6599ms
[2025-10-30 14:04:41.042 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:41.043 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:41.043 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:41.043 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:41.052 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:41.061 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:41.063 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:41.064 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:41.066 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:41.066 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:41.066 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 23.0806ms
[2025-10-30 14:04:41.066 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:41.066 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 31.1731ms
[2025-10-30 14:04:52.360 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 14:04:52.360 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:52.360 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.0101ms
[2025-10-30 14:04:52.361 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:52.362 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:52.365 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 4.3421ms
[2025-10-30 14:04:52.366 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 14:04:52.367 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:52.367 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:04:52.367 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 14:04:52.374 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:52.374 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:52.377 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:52.377 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:52.378 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 14:04:52.378 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:52.378 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 11.2629ms
[2025-10-30 14:04:52.378 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:04:52.378 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 12.0679ms
[2025-10-30 14:04:52.382 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:52.385 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:52.386 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:52.389 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:52.391 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:52.391 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:52.391 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 14.3772ms
[2025-10-30 14:04:52.392 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:52.392 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 18.1412ms
[2025-10-30 14:04:56.733 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:56.735 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:56.735 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 3.2913ms
[2025-10-30 14:04:56.740 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:56.740 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:56.741 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:56.741 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:56.777 +03:00  INF]  Executed DbCommand (34ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:56.780 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:56.783 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:56.786 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:56.789 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:56.789 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:56.790 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 48.52ms
[2025-10-30 14:04:56.790 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:56.790 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 51.0433ms
[2025-10-30 14:04:56.905 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:56.906 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:56.906 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 3.1478ms
[2025-10-30 14:04:56.910 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:56.912 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:56.913 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:56.913 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:56.926 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:56.934 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:56.940 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:56.944 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:56.948 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:56.948 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:56.950 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 37.1912ms
[2025-10-30 14:04:56.950 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:56.951 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 40.4297ms
[2025-10-30 14:04:57.092 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:57.093 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:57.093 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.8432ms
[2025-10-30 14:04:57.096 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:57.098 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:57.099 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:57.100 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:57.112 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:57.116 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.119 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.122 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.124 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.125 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:57.125 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 25.4766ms
[2025-10-30 14:04:57.126 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:57.126 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 29.7437ms
[2025-10-30 14:04:57.228 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:57.231 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:57.232 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 5.1765ms
[2025-10-30 14:04:57.237 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:57.238 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:57.238 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:57.239 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:57.251 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:57.255 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.257 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.260 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.263 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.263 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:57.263 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 24.6234ms
[2025-10-30 14:04:57.263 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:57.264 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 27.6259ms
[2025-10-30 14:04:57.746 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:57.746 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:57.746 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 2.893ms
[2025-10-30 14:04:57.751 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:57.753 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:57.753 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:57.753 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:57.766 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:57.770 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.773 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.775 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.778 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.779 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:57.779 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 25.3362ms
[2025-10-30 14:04:57.779 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:57.779 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 28.0537ms
[2025-10-30 14:04:57.923 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:57.926 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:57.927 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 3.6619ms
[2025-10-30 14:04:57.931 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:57.934 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:57.936 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:57.936 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:57.946 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:57.952 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.955 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.957 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.960 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:57.961 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:57.961 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 25.2599ms
[2025-10-30 14:04:57.962 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:57.962 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 31.6386ms
[2025-10-30 14:04:58.090 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:58.091 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:58.091 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6379ms
[2025-10-30 14:04:58.103 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:58.103 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:58.104 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:58.104 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:58.116 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:58.119 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:58.121 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:58.124 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:58.126 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:58.126 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:58.126 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 22.3014ms
[2025-10-30 14:04:58.126 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:58.127 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 24.1443ms
[2025-10-30 14:04:58.285 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:04:58.286 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:58.286 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.9483ms
[2025-10-30 14:04:58.289 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:04:58.290 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:04:58.291 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:58.291 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:04:58.306 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:04:58.311 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:58.314 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:58.318 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:58.321 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:04:58.321 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:04:58.321 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 30.2483ms
[2025-10-30 14:04:58.322 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:04:58.322 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 33.3627ms
[2025-10-30 14:05:31.021 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:05:31.023 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:31.023 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.6485ms
[2025-10-30 14:05:31.028 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:05:31.029 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:31.031 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:31.031 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:05:31.060 +03:00  INF]  Executed DbCommand (24ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:05:31.064 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:31.065 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:31.067 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:31.068 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:31.069 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:05:31.069 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 37.7409ms
[2025-10-30 14:05:31.069 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:31.069 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 41.7257ms
[2025-10-30 14:05:34.205 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:05:34.206 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:34.206 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.6986ms
[2025-10-30 14:05:34.208 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:05:34.208 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:34.209 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:34.209 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:05:34.216 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:05:34.217 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:34.218 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:34.220 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:34.221 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:34.222 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:05:34.222 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 13.132ms
[2025-10-30 14:05:34.222 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:34.222 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 14.3335ms
[2025-10-30 14:05:41.004 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:05:41.004 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:41.004 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.8518ms
[2025-10-30 14:05:41.006 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:05:41.006 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:41.007 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:41.007 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:05:41.014 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:05:41.016 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:41.018 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:41.020 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:41.023 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:41.023 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:05:41.023 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 15.7131ms
[2025-10-30 14:05:41.023 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:41.024 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 17.6098ms
[2025-10-30 14:05:46.696 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 14:05:46.696 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:46.696 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:05:46.696 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.9164ms
[2025-10-30 14:05:46.697 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:46.697 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5913ms
[2025-10-30 14:05:46.710 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:05:46.710 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 14:05:46.710 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:46.710 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:46.710 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:05:46.710 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 14:05:46.710 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:46.711 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:05:46.716 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 14:05:46.716 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:05:46.717 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 6.4543ms
[2025-10-30 14:05:46.717 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 14:05:46.717 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 8.1692ms
[2025-10-30 14:05:46.719 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:05:46.723 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:46.725 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:46.728 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:46.731 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:46.731 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:05:46.731 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 20.8483ms
[2025-10-30 14:05:46.732 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:46.732 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 22.2056ms
[2025-10-30 14:05:55.389 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:05:55.389 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:55.390 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4594ms
[2025-10-30 14:05:55.393 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:05:55.393 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:05:55.394 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:55.394 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:05:55.399 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:05:55.402 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:55.405 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:55.408 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:55.409 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:05:55.409 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:05:55.410 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 16.0038ms
[2025-10-30 14:05:55.410 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:05:55.410 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 17.7888ms
[2025-10-30 14:06:40.933 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:06:40.933 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:06:40.937 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 4.224ms
[2025-10-30 14:06:40.952 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:06:40.952 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:06:40.965 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:06:40.965 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:06:40.982 +03:00  INF]  Executed DbCommand (15ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:06:41.005 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:06:41.016 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:06:41.019 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:06:41.022 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:06:41.022 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:06:41.023 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 57.9465ms
[2025-10-30 14:06:41.023 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:06:41.023 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 71.8003ms
[2025-10-30 14:06:45.690 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 14:06:45.690 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:06:45.691 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.9901ms
[2025-10-30 14:06:45.693 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 14:06:45.693 +03:00  INF]  CORS policy execution successful.
[2025-10-30 14:06:45.694 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:06:45.694 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 14:06:45.699 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL)
[2025-10-30 14:06:45.700 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:06:45.701 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:06:45.703 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:06:45.704 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 14:06:45.704 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 14:06:45.704 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 10.0643ms
[2025-10-30 14:06:45.704 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 14:06:45.704 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 11.5905ms
[2025-10-30 16:10:36.576 +03:00  INF]  User profile is available. Using 'C:\Users\Pro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-10-30 16:10:37.456 +03:00  INF]  Now listening on: https://localhost:7252
[2025-10-30 16:10:37.457 +03:00  INF]  Now listening on: http://localhost:5233
[2025-10-30 16:10:37.914 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2025-10-30 16:10:37.915 +03:00  INF]  Hosting environment: Development
[2025-10-30 16:10:37.915 +03:00  INF]  Content root path: D:\ExcursionSystem\API\ExcursionApp\ExcursionApp
[2025-10-30 16:10:38.174 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
[2025-10-30 16:10:38.622 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
[2025-10-30 16:10:38.643 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
[2025-10-30 16:10:38.678 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 514.0144ms
[2025-10-30 16:10:38.688 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 50.8714ms
[2025-10-30 16:10:38.829 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 186.4846ms
[2025-10-30 16:10:39.163 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
[2025-10-30 16:10:39.222 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.9702ms
[2025-10-30 16:11:12.012 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:11:12.068 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:12.069 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 58.1826ms
[2025-10-30 16:11:12.072 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:11:12.074 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:14.385 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:14 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:11:14.405 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:14 PM'.
[2025-10-30 16:11:14.413 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:11:14.418 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:11:14.419 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 2346.7848ms
[2025-10-30 16:11:15.985 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:11:15.989 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:15.989 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 4.1479ms
[2025-10-30 16:11:15.991 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:11:15.991 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:15.995 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:15 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:11:15.996 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:15 PM'.
[2025-10-30 16:11:15.997 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:11:15.998 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:11:15.998 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 6.9024ms
[2025-10-30 16:11:17.987 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:11:17.988 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:17.988 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.9822ms
[2025-10-30 16:11:17.990 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:11:17.990 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:17.995 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:17 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:11:17.995 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:17 PM'.
[2025-10-30 16:11:17.997 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:11:17.997 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:11:17.997 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 7.6347ms
[2025-10-30 16:11:18.986 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:11:18.987 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:18.987 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6831ms
[2025-10-30 16:11:18.988 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:11:18.989 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:18.990 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:18 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:11:18.990 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:18 PM'.
[2025-10-30 16:11:18.990 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:11:18.990 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:11:18.990 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 2.3603ms
[2025-10-30 16:11:21.990 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:11:21.990 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:21.991 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6099ms
[2025-10-30 16:11:21.994 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:11:21.995 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:21.997 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:21 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:11:21.997 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:21 PM'.
[2025-10-30 16:11:21.997 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:11:21.997 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:11:21.998 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 3.5807ms
[2025-10-30 16:11:26.016 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:11:26.017 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:26.017 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5708ms
[2025-10-30 16:11:26.018 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:11:26.018 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:26.019 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:26 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:11:26.019 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:26 PM'.
[2025-10-30 16:11:26.019 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:11:26.019 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:11:26.019 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 1.3743ms
[2025-10-30 16:11:28.978 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:11:28.979 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:28.979 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.452ms
[2025-10-30 16:11:28.980 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:11:28.981 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:28.981 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:28 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:11:28.983 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:28 PM'.
[2025-10-30 16:11:28.983 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:11:28.983 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:11:28.983 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 2.8825ms
[2025-10-30 16:11:48.325 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 16:11:48.326 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:48.326 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:11:48.330 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 4.9012ms
[2025-10-30 16:11:48.330 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:48.330 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 4.1783ms
[2025-10-30 16:11:48.333 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:11:48.334 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:11:48.334 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:48.334 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:48.335 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:48 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:11:48.335 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:48 PM'.
[2025-10-30 16:11:48.335 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:11:48.335 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:11:48.335 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 1.5872ms
[2025-10-30 16:11:48.337 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:11:48.367 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:11:50.842 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:11:50.842 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:50.842 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:11:50.843 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:11:50.844 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:11:50.845 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:50.845 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.7739ms
[2025-10-30 16:11:50.847 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:11:50.847 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:11:50.848 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:50 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:11:50.848 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:11:50 PM'.
[2025-10-30 16:11:50.848 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:11:50.848 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:11:50.848 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 1.6646ms
[2025-10-30 16:11:51.315 +03:00  INF]  Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:11:51.315 +03:00  INF]  Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:11:51.431 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:11:51.431 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:11:51.519 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 673.2212ms
[2025-10-30 16:11:51.519 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 3148.8656ms
[2025-10-30 16:11:51.520 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:11:51.520 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:11:51.529 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 687.6576ms
[2025-10-30 16:11:51.529 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 3196.5235ms
[2025-10-30 16:12:49.032 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:12:49.033 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:12:49.033 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6132ms
[2025-10-30 16:12:49.035 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:12:49.035 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:12:49.036 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:12:49 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:12:49.037 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:12:49 PM'.
[2025-10-30 16:12:49.037 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:12:49.037 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:12:49.037 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 2.2614ms
[2025-10-30 16:13:00.995 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:13:00.997 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:00.997 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.5396ms
[2025-10-30 16:13:01.096 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:13:01.096 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:01.100 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:01 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:13:01.100 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:01 PM'.
[2025-10-30 16:13:01.100 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:13:01.100 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:13:01.101 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 93.5764ms
[2025-10-30 16:13:07.996 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:13:07.996 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:07.996 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3777ms
[2025-10-30 16:13:07.999 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:13:08.001 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:08.020 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:08 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:13:08.020 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:08 PM'.
[2025-10-30 16:13:08.020 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:13:08.020 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:13:08.021 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 21.293ms
[2025-10-30 16:13:14.295 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 16:13:14.295 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:14.296 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:13:14.296 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.6573ms
[2025-10-30 16:13:14.298 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:14.299 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 3.2182ms
[2025-10-30 16:13:14.304 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:13:14.304 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:14.305 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:13:14.305 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:13:14.305 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:14.305 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:13:14.306 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:14 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:13:14.306 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:14 PM'.
[2025-10-30 16:13:14.306 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:13:14.306 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:13:14.306 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 1.6289ms
[2025-10-30 16:13:14.395 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:13:14.398 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:13:14.399 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 93.5325ms
[2025-10-30 16:13:14.399 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:13:14.399 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 97.1112ms
[2025-10-30 16:13:20.002 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:13:20.003 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:20.003 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5843ms
[2025-10-30 16:13:20.004 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:13:20.005 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:20.005 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:20 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:13:20.005 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:20 PM'.
[2025-10-30 16:13:20.006 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:13:20.006 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:13:20.006 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 1.6262ms
[2025-10-30 16:13:35.393 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 16:13:35.393 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:35.394 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:13:35.394 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.1061ms
[2025-10-30 16:13:35.394 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:35.394 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3141ms
[2025-10-30 16:13:35.395 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:13:35.396 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:13:35.396 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:35.396 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:13:35.396 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:13:35.396 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:13:35.396 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:35 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:13:35.397 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:13:35 PM'.
[2025-10-30 16:13:35.397 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:13:35.397 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:13:35.397 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 1.4105ms
[2025-10-30 16:13:35.403 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:13:35.404 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:13:35.405 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 8.5848ms
[2025-10-30 16:13:35.405 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:13:35.405 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 9.6363ms
[2025-10-30 16:14:07.052 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 16:14:07.053 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:07.058 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 6.4944ms
[2025-10-30 16:14:07.059 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:14:07.059 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:07.059 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4301ms
[2025-10-30 16:14:07.060 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:14:07.061 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:07.061 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:14:07.061 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:07.061 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:07.061 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:14:07.062 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:07 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:14:07.062 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:07 PM'.
[2025-10-30 16:14:07.062 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:14:07.062 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:14:07.062 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 1.4142ms
[2025-10-30 16:14:07.064 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:14:07.065 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:14:07.066 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 4.5106ms
[2025-10-30 16:14:07.066 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:07.066 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 5.6995ms
[2025-10-30 16:14:16.366 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 16:14:16.366 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:16.366 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.3707ms
[2025-10-30 16:14:16.370 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:14:16.376 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:16.376 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:16.376 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:14:16.374 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:14:16.385 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:16.386 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 11.697ms
[2025-10-30 16:14:16.386 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:14:16.387 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:14:16.388 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:16.388 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:14:16.388 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 11.8573ms
[2025-10-30 16:14:16.388 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:16.389 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:14:16.389 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:16 PM'.
[2025-10-30 16:14:16.389 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:14:16.389 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 19.3383ms
[2025-10-30 16:14:16.390 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:14:16.390 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 2.2452ms
[2025-10-30 16:14:18.380 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:14:18.381 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:18.381 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:18.381 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:14:18.382 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:14:18.382 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:18.382 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3873ms
[2025-10-30 16:14:18.383 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:14:18.384 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:14:18.385 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:18.385 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:14:18.386 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 4.6239ms
[2025-10-30 16:14:18.386 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:18.386 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:18 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:14:18.386 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 5.8446ms
[2025-10-30 16:14:18.386 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:18 PM'.
[2025-10-30 16:14:18.386 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:14:18.386 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:14:18.387 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 2.457ms
[2025-10-30 16:14:26.194 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 16:14:26.194 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:26.194 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.5541ms
[2025-10-30 16:14:26.195 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:14:26.195 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:26.195 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3492ms
[2025-10-30 16:14:26.196 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:14:26.196 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:26.196 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:26.196 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:14:26.197 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:14:26.197 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:26.199 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:26 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:14:26.199 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:14:26.200 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:26 PM'.
[2025-10-30 16:14:26.200 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:14:26.200 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:14:26.200 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 2.9573ms
[2025-10-30 16:14:26.200 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:14:26.201 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 4.3246ms
[2025-10-30 16:14:26.201 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:26.201 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 5.51ms
[2025-10-30 16:14:29.981 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:14:29.981 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:29.981 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:29.981 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:14:29.982 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:14:29.982 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:29.982 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4404ms
[2025-10-30 16:14:29.984 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:14:29.984 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:14:29.985 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:14:29.986 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:14:29.986 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:29 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 16:14:29.986 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 4.7981ms
[2025-10-30 16:14:29.987 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 11:10:38 AM', Current time (UTC): '10/30/2025 1:14:29 PM'.
[2025-10-30 16:14:29.987 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:14:29.987 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 16:14:29.987 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 16:14:29.987 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 2.501ms
[2025-10-30 16:14:29.987 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 5.9844ms
[2025-10-30 16:16:30.434 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 16:16:30.435 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:16:30.435 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.9513ms
[2025-10-30 16:16:30.435 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 16:16:30.437 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:16:30.446 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 10.7714ms
[2025-10-30 16:16:30.452 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 16:16:30.455 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:16:30.455 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:16:30.455 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 16:16:30.458 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 16:16:30.459 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 16:16:30.460 +03:00  INF]  CORS policy execution successful.
[2025-10-30 16:16:30.460 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:16:30.461 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 5.74ms
[2025-10-30 16:16:30.461 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 16:16:30.461 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 10.766ms
[2025-10-30 16:16:30.471 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 16:16:30.481 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 16:16:30.738 +03:00  INF]  Executed DbCommand (21ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 16:16:30.810 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 16:16:30.817 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 16:16:30.819 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 16:16:30.821 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 16:16:30.821 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 16:16:30.840 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 358.0428ms
[2025-10-30 16:16:30.840 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 16:16:30.840 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 381.6031ms
[2025-10-30 17:01:30.654 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:01:30.658 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:01:30.660 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 6.9656ms
[2025-10-30 17:01:30.667 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:01:30.667 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:01:30.667 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:01:30.667 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:01:30.667 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 3.7236ms
[2025-10-30 17:01:30.667 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:01:30.667 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:01:30.668 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:01:30.669 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:01:30.671 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 1:46:30 PM', Current time (UTC): '10/30/2025 2:01:30 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 17:01:30.674 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 1:46:30 PM', Current time (UTC): '10/30/2025 2:01:30 PM'.
[2025-10-30 17:01:30.675 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 17:01:30.675 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 17:01:30.675 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 7.07ms
[2025-10-30 17:01:30.741 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:01:30.742 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:01:30.742 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 74.4217ms
[2025-10-30 17:01:30.742 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:01:30.742 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 77.7132ms
[2025-10-30 17:01:48.509 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:01:48.509 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:01:48.509 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:01:48.509 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:01:48.509 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.4938ms
[2025-10-30 17:01:48.509 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.2174ms
[2025-10-30 17:01:48.512 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:01:48.512 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:01:48.512 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:01:48.512 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:01:48.512 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:01:48.512 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:01:48.516 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:01:48.516 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:01:48.519 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 7.073ms
[2025-10-30 17:01:48.519 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:01:48.519 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 7.7869ms
[2025-10-30 17:01:48.521 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:01:48.521 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:01:48.535 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:01:48.539 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:01:48.540 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:01:48.541 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:01:48.542 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:01:48.543 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:01:48.543 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 21.3796ms
[2025-10-30 17:01:48.543 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:01:48.543 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 31.4151ms
[2025-10-30 17:10:44.068 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:10:44.068 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:44.069 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4788ms
[2025-10-30 17:10:44.069 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:10:44.069 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:44.070 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.3759ms
[2025-10-30 17:10:44.074 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:10:44.075 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:44.079 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:10:44.079 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:44.079 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:10:44.079 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:10:44.079 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:10:44.079 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:10:44.148 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:10:44.149 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:10:44.149 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 70.6461ms
[2025-10-30 17:10:44.150 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:10:44.150 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 71.1798ms
[2025-10-30 17:10:44.171 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:10:44.179 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:44.187 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:44.189 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:44.191 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:44.191 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:10:44.192 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 112.967ms
[2025-10-30 17:10:44.192 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:10:44.192 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 118.3314ms
[2025-10-30 17:10:49.753 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:10:49.753 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:49.753 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.555ms
[2025-10-30 17:10:49.753 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:10:49.753 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:49.754 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.2311ms
[2025-10-30 17:10:49.757 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:10:49.757 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:10:49.757 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:49.757 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:49.758 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:10:49.758 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:10:49.758 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:10:49.758 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:10:49.759 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:10:49.759 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:10:49.761 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 2.7792ms
[2025-10-30 17:10:49.761 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:10:49.761 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 3.5075ms
[2025-10-30 17:10:49.764 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:10:49.766 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:49.771 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:49.773 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:49.775 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:49.775 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:10:49.776 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 17.7629ms
[2025-10-30 17:10:49.776 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:10:49.776 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 18.5987ms
[2025-10-30 17:10:51.689 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:10:51.694 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:51.695 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:10:51.697 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:10:51.698 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:10:51.698 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:51.698 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 3.0377ms
[2025-10-30 17:10:51.710 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:10:51.714 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:10:51.714 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:10:51.716 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:10:51.716 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:10:51.717 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:10:51.717 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 19.3908ms
[2025-10-30 17:10:51.717 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:10:51.717 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 28.4198ms
[2025-10-30 17:10:51.722 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:10:51.726 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:51.727 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:51.729 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:51.731 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:10:51.731 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:10:51.732 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 15.3567ms
[2025-10-30 17:10:51.732 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:10:51.732 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 18.5603ms
[2025-10-30 17:12:01.981 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:12:01.982 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:12:01.982 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5984ms
[2025-10-30 17:12:01.989 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:12:01.990 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:12:01.990 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:12:01.990 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:12:02.007 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:12:02.009 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:02.010 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:02.011 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:02.012 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:02.013 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:12:02.013 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 22.5735ms
[2025-10-30 17:12:02.013 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:12:02.013 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 26.5205ms
[2025-10-30 17:12:15.006 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:12:15.006 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:12:15.007 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.1518ms
[2025-10-30 17:12:15.010 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:12:15.010 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:12:15.011 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:12:15.011 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:12:15.018 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:12:15.020 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:15.022 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:15.024 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:15.026 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:15.026 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:12:15.026 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 15.4888ms
[2025-10-30 17:12:15.026 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:12:15.027 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 17.3777ms
[2025-10-30 17:12:18.984 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:12:18.984 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:12:18.985 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.7786ms
[2025-10-30 17:12:18.987 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:12:18.987 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:12:18.987 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:12:18.987 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:12:18.997 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:12:18.999 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:19.001 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:19.003 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:19.006 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:12:19.006 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:12:19.007 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 19.3084ms
[2025-10-30 17:12:19.007 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:12:19.007 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 21.0192ms
[2025-10-30 17:13:34.009 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:13:34.012 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:34.013 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 4.7795ms
[2025-10-30 17:13:34.018 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:13:34.018 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:34.019 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:34.019 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:13:34.024 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:13:34.026 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:34.027 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:34.028 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:34.029 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:34.030 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:13:34.030 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 11.0542ms
[2025-10-30 17:13:34.030 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:34.030 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 12.2643ms
[2025-10-30 17:13:47.753 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:13:47.753 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:47.753 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.4341ms
[2025-10-30 17:13:47.755 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:13:47.755 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:13:47.756 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:47.756 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:47.756 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4111ms
[2025-10-30 17:13:47.756 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:13:47.756 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:13:47.758 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:13:47.759 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:13:47.760 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:13:47.760 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:47.760 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 4.1155ms
[2025-10-30 17:13:47.760 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:13:47.760 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 4.7252ms
[2025-10-30 17:13:47.760 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:47.760 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:13:47.765 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:13:47.766 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:47.768 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:47.769 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:47.771 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:47.771 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:13:47.771 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 10.563ms
[2025-10-30 17:13:47.771 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:47.771 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 11.4385ms
[2025-10-30 17:13:49.368 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:13:49.369 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:49.369 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:13:49.369 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:13:49.369 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:13:49.369 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:49.369 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3029ms
[2025-10-30 17:13:49.371 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:13:49.371 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:13:49.371 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:49.378 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:13:49.379 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 9.9903ms
[2025-10-30 17:13:49.379 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:13:49.379 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 10.9173ms
[2025-10-30 17:13:49.379 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:49.379 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:13:49.384 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:13:49.385 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:49.387 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:49.388 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:49.390 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:49.391 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:13:49.391 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 11.4363ms
[2025-10-30 17:13:49.391 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:49.391 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 20.8127ms
[2025-10-30 17:13:50.136 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:13:50.136 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:50.136 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:13:50.136 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:13:50.137 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:13:50.138 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:13:50.138 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 1.5451ms
[2025-10-30 17:13:50.138 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:13:50.138 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 2.1779ms
[2025-10-30 17:13:50.142 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:13:50.142 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:50.142 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.7268ms
[2025-10-30 17:13:50.144 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:13:50.144 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:50.144 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:50.144 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:13:50.148 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:13:50.150 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:50.151 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:50.152 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:50.153 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:50.153 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:13:50.153 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 8.5409ms
[2025-10-30 17:13:50.153 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:50.153 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 9.6771ms
[2025-10-30 17:13:53.479 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:13:53.479 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:13:53.479 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:53.479 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:53.479 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.5213ms
[2025-10-30 17:13:53.479 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.2769ms
[2025-10-30 17:13:53.480 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:13:53.480 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:13:53.481 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:53.481 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:13:53.481 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:13:53.481 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:13:53.481 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:53.481 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:13:53.484 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:13:53.485 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:13:53.485 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 4.2549ms
[2025-10-30 17:13:53.485 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:13:53.486 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 5.3224ms
[2025-10-30 17:13:53.490 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:13:53.491 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:53.493 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:53.494 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:53.497 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:13:53.497 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:13:53.498 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 16.7282ms
[2025-10-30 17:13:53.498 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:13:53.498 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 17.8696ms
[2025-10-30 17:15:48.334 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:15:48.334 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:15:48.334 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.5598ms
[2025-10-30 17:15:48.335 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:15:48.338 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:15:48.339 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 3.2885ms
[2025-10-30 17:15:48.342 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:15:48.342 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:15:48.345 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:15:48.345 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:15:48.346 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:15:48.346 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:15:48.346 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:15:48.347 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:15:48.425 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:15:48.426 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:15:48.426 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 79.8227ms
[2025-10-30 17:15:48.426 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:15:48.426 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 84.0092ms
[2025-10-30 17:15:48.443 +03:00  INF]  Executed DbCommand (11ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:15:48.450 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:15:48.453 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:15:48.454 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:15:48.455 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:15:48.455 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:15:48.455 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 108.3066ms
[2025-10-30 17:15:48.455 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:15:48.455 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 112.6449ms
[2025-10-30 17:16:25.924 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:16:25.924 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:16:25.925 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.4932ms
[2025-10-30 17:16:25.926 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:16:25.926 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:16:25.926 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:16:25.926 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:16:25.926 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6566ms
[2025-10-30 17:16:25.926 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:16:25.927 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:16:25.929 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:16:25.929 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:16:25.929 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:16:25.930 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:16:25.930 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:16:25.930 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:16:25.930 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 3.6924ms
[2025-10-30 17:16:25.930 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:16:25.930 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 4.2621ms
[2025-10-30 17:16:25.935 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:16:25.937 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:16:25.938 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:16:25.940 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:16:25.941 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:16:25.942 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:16:25.942 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 11.4639ms
[2025-10-30 17:16:25.942 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:16:25.942 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 13.5472ms
[2025-10-30 17:17:20.521 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:17:20.521 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:20.521 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.4226ms
[2025-10-30 17:17:20.522 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:17:20.522 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:20.522 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.1869ms
[2025-10-30 17:17:20.523 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:17:20.524 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:17:20.524 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:20.524 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:20.524 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:17:20.524 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:17:20.525 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:17:20.525 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:17:20.528 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:17:20.533 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:17:20.534 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:17:20.534 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 10.2524ms
[2025-10-30 17:17:20.534 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:17:20.534 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.071ms
[2025-10-30 17:17:20.535 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:17:20.539 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:17:20.541 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:17:20.543 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:17:20.543 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:17:20.543 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 18.3867ms
[2025-10-30 17:17:20.543 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:17:20.543 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 19.7116ms
[2025-10-30 17:17:36.315 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - null null
[2025-10-30 17:17:36.316 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - null null
[2025-10-30 17:17:36.316 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:36.316 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:36.316 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/getDestinations - 204 null null 1.248ms
[2025-10-30 17:17:36.316 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/TravelClient/GetTripsAll - 204 null null 0.7921ms
[2025-10-30 17:17:36.320 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - application/json 178
[2025-10-30 17:17:36.320 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - application/json 67
[2025-10-30 17:17:36.324 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:36.324 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 17:17:36.324 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:36.324 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 17:17:36.326 +03:00  INF]  Route matched with {action = "getDestinations", controller = "TravelClient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getDestinations(ExcursionApp.Data.Models.destination.DestinationReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 17:17:36.328 +03:00  INF]  Route matched with {action = "GetTripsAll", controller = "TravelClient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTripsAll(ExcursionApp.Data.Models.trips.TripsReq) on controller ExcursionApp.Controllers.TravelClientController (ExcursionApp).
[2025-10-30 17:17:36.379 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__langCode_0='?', @__8__locals1_req_show_in_top_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT t.cancelation_policy, t.country_code, t.default_img, t.dest_code, t.dest_default_name, t.dest_route, t.destination_id, t.important_info, t.is_comm_soon, t.lang_code, t.pickup, t.release_days, t.route, t.show_in_slider, t.show_in_top, t.trip_category_code, t.trip_category_name, t.trip_code, t.trip_code_auto, t.trip_default_name, t.trip_description, t.trip_details, t.trip_duration, t.trip_highlight, t.trip_id, t.trip_includes, t.trip_name, t.trip_not_includes, t.trip_order, t.trip_trans_id, t.trip_type
FROM tripwithdetails AS t
WHERE lower(t.lang_code) = @__langCode_0 AND t.show_in_top = @__8__locals1_req_show_in_top_1 AND (t.show_in_slider = t.show_in_slider OR t.show_in_slider IS NULL)
[2025-10-30 17:17:36.403 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__req_leaf_1='?' (DbType = Boolean), @__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d.destination_id, d.id, d1.country_code, d1.active, d1.dest_code, d.dest_description, d.dest_name, CASE
    WHEN d2.id IS NOT NULL THEN 'http://api.raccoon24.com/' || COALESCE(d2.img_path, '')
END AS img_path, d.lang_code, d1.dest_default_name, d1.route
FROM destination_translations AS d
INNER JOIN (
    SELECT d0.id, d0.active, d0.country_code, d0.dest_code, d0.dest_default_name, d0.route
    FROM destination_main AS d0
    WHERE d0.active AND (lower(d0.country_code) = lower(d0.country_code) OR d0.country_code IS NULL) AND d0.leaf = @__req_leaf_1
) AS d1 ON d.destination_id = d1.id
LEFT JOIN destination_imgs AS d2 ON d.id = d2.destination_id
WHERE lower(d.lang_code) = @__ToLower_0 AND d.active
[2025-10-30 17:17:36.406 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.destination.DestinationResponse, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:17:36.411 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp) in 84.3437ms
[2025-10-30 17:17:36.411 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.getDestinations (ExcursionApp)'
[2025-10-30 17:17:36.411 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/getDestinations - 200 2828 application/json; charset=utf-8 91.0757ms
[2025-10-30 17:17:36.423 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.454 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.475 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.486 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.494 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.513 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.520 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.525 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.535 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.537 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.539 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.542 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.542 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.543 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.544 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.544 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.545 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.545 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.582 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.585 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.586 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.587 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.588 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.588 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.588 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.589 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.589 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.589 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.590 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.591 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.592 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.593 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.593 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.593 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.594 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.594 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.595 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.596 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.596 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.597 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.599 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.601 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.602 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.602 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.603 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.603 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.604 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.605 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.606 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.606 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.606 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.607 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.607 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.608 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.608 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.609 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.610 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.611 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.611 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.612 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.612 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.613 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.613 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.613 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.616 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.618 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.619 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.620 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.620 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.620 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.621 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.621 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.622 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.622 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.623 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.624 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.625 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.625 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.625 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.626 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.626 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.627 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.628 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.628 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.629 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.630 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.630 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.630 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.631 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.633 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.634 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.636 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.637 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.637 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.638 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.638 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.639 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.639 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.639 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.640 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.641 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.642 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.642 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.643 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.643 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.644 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.644 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.644 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.645 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.646 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.647 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.648 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.650 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.651 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.652 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.652 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.653 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.653 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.654 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.655 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.656 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.656 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.656 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.657 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.657 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.658 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.658 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.659 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.660 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.661 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.661 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.661 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.662 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.662 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.663 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.663 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.664 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.667 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.668 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.669 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.669 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.670 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.670 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.671 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.672 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.674 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.675 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.676 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.677 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.678 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.678 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.679 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.680 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.681 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.683 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__isExtra_2='?' (DbType = Boolean), @__trip_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_desc
    ELSE ''
END AS facility_desc, CASE
    WHEN f0.id IS NOT NULL THEN f0.facility_name
    ELSE ''
END AS facility_name, CASE
    WHEN f2.id IS NOT NULL THEN f2.extra_price
    ELSE 0.0
END AS extra_price, CASE
    WHEN f2.id IS NOT NULL THEN f2.currency_code
    ELSE ''
END AS currency_code, CASE
    WHEN f2.id IS NOT NULL THEN f2.is_extra
    ELSE FALSE
END AS is_extra, t.facility_id
FROM trip_facility AS t
LEFT JOIN (
    SELECT f.id, f.facility_desc, f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON t.facility_id = f0.facility_id
LEFT JOIN (
    SELECT f1.id, f1.currency_code, f1.extra_price, f1.is_extra
    FROM facility_main AS f1
    WHERE f1.active AND f1.is_extra = @__isExtra_2
) AS f2 ON t.facility_id = f2.id
WHERE t.trip_id = @__trip_id_0
[2025-10-30 17:17:36.684 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__trip_id_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.img_height, t.img_name, 'http://api.raccoon24.com/' || COALESCE(t.img_path, '') AS img_path, 'http://api.raccoon24.com/' || COALESCE(t.img_resize_path, '') AS img_resize_path, t.img_width, t.is_default, t.trip_id
FROM trip_imgs AS t
WHERE t.trip_id::numeric = @__trip_id_0
[2025-10-30 17:17:36.685 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT min(t.trip_sale_price)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.686 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.pax_to)
FROM trip_prices AS t
WHERE t.trip_id = @__s_trip_id_0 AND lower(t.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.686 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.686 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__s_trip_type_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT max(t.review_rate)
FROM tbl_reviews AS t
WHERE t.trip_id = @__s_trip_id_0 AND t.trip_type = @__s_trip_type_1
[2025-10-30 17:17:36.687 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__s_trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT max(c.age_to)
FROM child_policy_setting AS c
WHERE c.trip_id = @__s_trip_id_0 AND lower(c.currency_code) = @__ToLower_1
[2025-10-30 17:17:36.687 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__trip_id_0='?' (DbType = Int64), @__ToLower_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.policy_id, c.age_from, c.age_to, c.child_price, c.code_auto, c.created_at, c.created_by, c.currency_code, c.notes, c.pricing_type, c.trip_id, c.updated_at
FROM child_policy_setting AS c
WHERE c.trip_id = @__trip_id_0 AND lower(c.currency_code) = @__ToLower_1 AND (c.pricing_type <> 1 OR c.pricing_type IS NULL)
[2025-10-30 17:17:36.687 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.trips.TripsAll, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:17:36.741 +03:00  INF]  Executed action ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp) in 412.8041ms
[2025-10-30 17:17:36.741 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.TravelClientController.GetTripsAll (ExcursionApp)'
[2025-10-30 17:17:36.741 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/TravelClient/GetTripsAll - 200 85252 application/json; charset=utf-8 421.0987ms
[2025-10-30 17:17:45.035 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:17:45.036 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:45.036 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4188ms
[2025-10-30 17:17:45.038 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:17:45.038 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:17:45.039 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:17:45.039 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:17:45.044 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:17:45.047 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:17:45.048 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:17:45.049 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:17:45.049 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:17:45.050 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:17:45.050 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 10.8088ms
[2025-10-30 17:17:45.050 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:17:45.050 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 12.5167ms
[2025-10-30 17:18:05.701 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:18:05.702 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:05.702 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.0811ms
[2025-10-30 17:18:05.704 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:18:05.704 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:05.705 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:05.705 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:18:05.716 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:18:05.718 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:05.719 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:05.720 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:05.720 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:05.721 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:18:05.721 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 15.7457ms
[2025-10-30 17:18:05.721 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:05.721 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 16.8828ms
[2025-10-30 17:18:19.024 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:18:19.026 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:19.026 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.9767ms
[2025-10-30 17:18:19.028 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:18:19.029 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:19.030 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:19.030 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:18:19.040 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:18:19.042 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:19.044 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:19.045 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:19.046 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:19.047 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:18:19.047 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 17.1927ms
[2025-10-30 17:18:19.047 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:19.047 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 18.9275ms
[2025-10-30 17:18:22.980 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:18:22.981 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:22.981 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 1.2274ms
[2025-10-30 17:18:22.983 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:18:22.983 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:22.983 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:22.984 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:18:22.987 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:18:22.994 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:22.996 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:22.999 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:23.001 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:23.001 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:18:23.001 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 17.5675ms
[2025-10-30 17:18:23.001 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:23.001 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 18.6757ms
[2025-10-30 17:18:24.459 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:18:24.459 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:24.460 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5017ms
[2025-10-30 17:18:24.462 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:18:24.462 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:24.463 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:24.463 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:18:24.467 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:18:24.469 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:24.470 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:24.471 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:24.472 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:24.472 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:18:24.473 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 9.6226ms
[2025-10-30 17:18:24.473 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:24.473 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 11.1257ms
[2025-10-30 17:18:44.031 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:18:44.031 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:44.032 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.8811ms
[2025-10-30 17:18:44.034 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:18:44.034 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:44.040 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:44.040 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:18:44.048 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:18:44.049 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:44.050 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:44.051 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:44.052 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:44.052 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:18:44.052 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 12.2542ms
[2025-10-30 17:18:44.052 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:44.052 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 18.93ms
[2025-10-30 17:18:52.977 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:18:52.977 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:52.977 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.347ms
[2025-10-30 17:18:52.978 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:18:52.978 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:52.979 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:52.979 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:18:52.983 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:18:52.984 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:52.985 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:52.986 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:52.987 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:52.987 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:18:52.987 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 8.292ms
[2025-10-30 17:18:52.987 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:52.987 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 9.2446ms
[2025-10-30 17:18:55.017 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:18:55.017 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:55.017 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6591ms
[2025-10-30 17:18:55.019 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:18:55.019 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:18:55.019 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:55.019 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:18:55.028 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:18:55.029 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:55.031 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:55.032 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:55.034 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:18:55.034 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:18:55.034 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 14.6194ms
[2025-10-30 17:18:55.034 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:18:55.034 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 15.642ms
[2025-10-30 17:19:00.972 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:19:00.972 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:19:00.972 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4532ms
[2025-10-30 17:19:00.973 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:19:00.974 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:19:00.974 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:19:00.974 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:19:00.978 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:19:00.979 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:19:00.980 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:19:00.981 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:19:00.982 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:19:00.982 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:19:00.982 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 8.1483ms
[2025-10-30 17:19:00.982 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:19:00.982 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 9.0068ms
[2025-10-30 17:21:02.031 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:21:02.031 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:21:02.031 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3422ms
[2025-10-30 17:21:02.036 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:21:02.036 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:21:02.038 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:21:02.039 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:21:02.101 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:21:02.108 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:21:02.109 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:21:02.110 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:21:02.111 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:21:02.111 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:21:02.111 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 72.3231ms
[2025-10-30 17:21:02.111 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:21:02.111 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 75.0979ms
[2025-10-30 17:22:52.992 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:22:52.992 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:22:52.992 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.2112ms
[2025-10-30 17:22:52.994 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:22:52.995 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:22:52.995 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:22:52.995 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:22:53.000 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:22:53.002 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:22:53.003 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:22:53.005 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:22:53.006 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:22:53.006 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:22:53.007 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 11.4536ms
[2025-10-30 17:22:53.007 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:22:53.007 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 12.437ms
[2025-10-30 17:22:59.060 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:22:59.061 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:22:59.061 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.4277ms
[2025-10-30 17:22:59.062 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:22:59.062 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:22:59.063 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:22:59.063 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:22:59.067 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:22:59.069 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:22:59.071 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:22:59.072 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:22:59.074 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:22:59.074 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:22:59.074 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 11.2529ms
[2025-10-30 17:22:59.074 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:22:59.074 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 12.3122ms
[2025-10-30 17:23:05.983 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:23:05.983 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:23:05.983 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3935ms
[2025-10-30 17:23:05.985 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:23:05.985 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:23:05.985 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:23:05.985 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:23:05.989 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:23:05.990 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:23:05.991 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:23:05.992 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:23:05.993 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:23:05.993 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:23:05.993 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 7.9647ms
[2025-10-30 17:23:05.993 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:23:05.994 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 9.2046ms
[2025-10-30 17:23:09.088 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:23:09.088 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:23:09.088 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.2208ms
[2025-10-30 17:23:09.092 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:23:09.092 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:23:09.093 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:23:09.093 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:23:09.102 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:23:09.105 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:23:09.107 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:23:09.109 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:23:09.110 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:23:09.110 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:23:09.110 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 17.6482ms
[2025-10-30 17:23:09.110 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:23:09.110 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 18.4028ms
[2025-10-30 17:25:07.051 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:25:07.051 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:25:07.051 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.4859ms
[2025-10-30 17:25:07.055 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:25:07.055 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:25:07.055 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:25:07.057 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:25:07.057 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:25:07.058 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:25:07.058 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 2.6929ms
[2025-10-30 17:25:07.064 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:25:07.065 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:25:07.065 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:25:07.066 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:25:07.066 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 8.6346ms
[2025-10-30 17:25:07.066 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:25:07.066 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:25:07.066 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:25:07.067 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 11.6435ms
[2025-10-30 17:25:07.071 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:25:07.072 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:25:07.073 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:25:07.074 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:25:07.075 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:25:07.076 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:25:07.076 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 9.2857ms
[2025-10-30 17:25:07.076 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:25:07.076 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 14.1243ms
[2025-10-30 17:25:19.216 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:25:19.216 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:25:19.216 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 0.45ms
[2025-10-30 17:25:19.217 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:25:19.217 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:25:19.217 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.3394ms
[2025-10-30 17:25:19.218 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:25:19.219 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:25:19.219 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:25:19.219 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:25:19.219 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:25:19.219 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:25:19.219 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:25:19.219 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:25:19.220 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:25:19.221 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:25:19.222 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 2.849ms
[2025-10-30 17:25:19.222 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:25:19.222 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 3.8475ms
[2025-10-30 17:25:19.225 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:25:19.226 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:25:19.229 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:25:19.230 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:25:19.232 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:25:19.232 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:25:19.232 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 12.6166ms
[2025-10-30 17:25:19.232 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:25:19.232 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 13.7035ms
[2025-10-30 17:26:05.991 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:26:05.992 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:26:05.992 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.5026ms
[2025-10-30 17:26:05.993 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:26:05.993 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:26:05.993 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:26:05.993 +03:00  INF]  Route matched with {action = "GetMyBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBooking(System.String, ExcursionApp.Data.Models.global.LangReq) on controller ExcursionApp.Controllers.BookingController (ExcursionApp).
[2025-10-30 17:26:06.050 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__client_id_0='?', @__ToLower_1='?', @__ToLower_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b.booking_code, b.booking_code_auto, b.booking_date, b.booking_datestr, b.booking_id, b.booking_notes, b.booking_status, b.booking_status_id, b.cancelation_policy, b.child_ages, b.child_num, b.client_email, b.client_id, b.client_name, b.client_nationality, b.client_phone, b.currency_code, b.default_img, b.gift_code, b.infant_num, b.is_two_way, b.lang_code, b.pickup_address, b.pickup_time, b.pricing_type, b.release_days, b.review_rate, b.total_pax, b.total_price, b.trip_code, b.trip_code_auto, b.trip_date, b.trip_datestr, b.trip_description, b.trip_id, b.trip_name, b.trip_return_date, b.trip_return_datestr, b.trip_type
FROM bookingwithdetails AS b
WHERE b.client_id = @__client_id_0 AND lower(b.lang_code) = @__ToLower_1 AND lower(b.currency_code) = @__ToLower_2 AND (b.booking_status_id <> 3 OR b.booking_status_id IS NULL) AND (b.booking_code = b.booking_code OR b.booking_code IS NULL)
[2025-10-30 17:26:06.055 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:26:06.056 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:26:06.057 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:26:06.058 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__ToLower_1='?', @__is_obligatory_2='?' (DbType = Boolean), @__booking_id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT b.extra_id, b.booking_id, b.extra_count, f0.facility_name AS extra_name, f2.extra_price, b.id, f2.is_obligatory, f2.is_extra AS "isExtra", f2.pricing_type::int AS pricing_type
FROM booking_extra AS b
INNER JOIN (
    SELECT f.facility_id, f.facility_name
    FROM facility_translations AS f
    WHERE lower(f.lang_code) = @__ToLower_1
) AS f0 ON b.extra_id::bigint = f0.facility_id
INNER JOIN (
    SELECT f1.id, f1.extra_price, f1.is_extra, f1.is_obligatory, f1.pricing_type
    FROM facility_main AS f1
    WHERE f1.is_obligatory = @__is_obligatory_2
) AS f2 ON f0.facility_id = f2.id
WHERE b.booking_id = @__booking_id_0
[2025-10-30 17:26:06.059 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Models.Bookings.Client.BookingSummary, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:26:06.059 +03:00  INF]  Executed action ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp) in 65.5537ms
[2025-10-30 17:26:06.059 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.BookingController.GetMyBooking (ExcursionApp)'
[2025-10-30 17:26:06.059 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 200 3299 application/json; charset=utf-8 66.4624ms
[2025-10-30 17:41:56.657 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - null null
[2025-10-30 17:41:56.657 +03:00  INF]  Request starting HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - null null
[2025-10-30 17:41:56.658 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:41:56.658 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:41:56.658 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/MainSetting/Get_Currencies - 204 null null 1.1291ms
[2025-10-30 17:41:56.658 +03:00  INF]  Request finished HTTP/2 OPTIONS https://localhost:7252/api/Booking/GetMyBooking - 204 null null 0.6292ms
[2025-10-30 17:41:56.661 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - application/json 2
[2025-10-30 17:41:56.661 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - application/json 58
[2025-10-30 17:41:56.663 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:41:56.664 +03:00  INF]  Executing endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:41:56.664 +03:00  INF]  CORS policy execution successful.
[2025-10-30 17:41:56.664 +03:00  INF]  Route matched with {action = "Get_Currencies", controller = "MainSetting"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get_Currencies() on controller ExcursionApp.Controllers.MainSettingController (ExcursionApp).
[2025-10-30 17:41:56.665 +03:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 2:31:48 PM', Current time (UTC): '10/30/2025 2:41:56 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-10-30 17:41:56.665 +03:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/30/2025 2:31:48 PM', Current time (UTC): '10/30/2025 2:41:56 PM'.
[2025-10-30 17:41:56.665 +03:00  INF]  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-10-30 17:41:56.666 +03:00  INF]  AuthenticationScheme: Bearer was challenged.
[2025-10-30 17:41:56.667 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/Booking/GetMyBooking - 401 0 null 5.3906ms
[2025-10-30 17:41:56.721 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.currency_code, t.currency_name
FROM tbl_currency AS t
[2025-10-30 17:41:56.722 +03:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExcursionApp.Data.Entities.tbl_currency, ExcursionApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-10-30 17:41:56.722 +03:00  INF]  Executed action ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp) in 57.8158ms
[2025-10-30 17:41:56.722 +03:00  INF]  Executed endpoint 'ExcursionApp.Controllers.MainSettingController.Get_Currencies (ExcursionApp)'
[2025-10-30 17:41:56.722 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7252/api/MainSetting/Get_Currencies - 200 175 application/json; charset=utf-8 61.6059ms
